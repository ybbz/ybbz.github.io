<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>八宝粥的博客</title>
  <subtitle>这一切都是命运石之门的选择</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.ybbz.site/"/>
  <updated>2016-04-24T16:30:49.000Z</updated>
  <id>http://blog.ybbz.site/</id>
  
  <author>
    <name>八宝粥</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>融云实践二：获取token(PHP+Android)</title>
    <link href="http://blog.ybbz.site/2016/04/24/rongcloud-practice-2-get-token/"/>
    <id>http://blog.ybbz.site/2016/04/24/rongcloud-practice-2-get-token/</id>
    <published>2016-04-24T14:18:38.000Z</published>
    <updated>2016-04-24T16:30:49.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;PHP服务器端接口配置&quot;&gt;&lt;a href=&quot;#PHP服务器端接口配置&quot; class=&quot;headerlink&quot; title=&quot;PHP服务器端接口配置&quot;&gt;&lt;/a&gt;PHP服务器端接口配置&lt;/h3&gt;&lt;p&gt;服务器端使用的是PHP框架Yii2（MVC架构）,首先需要进行以下配置：&lt;/p&gt;
&lt;p&gt;1.在user表中增加字段rong_token保存从融云服务器请求到的token&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;alter table user add rong_token varchar(20) Null;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2.在项目的API模块下新建apis文件夹（其他方式亦可），并添加文件ServerAPI.php&lt;/p&gt;
&lt;p&gt;服务器端SDK下载地址(PHP版)：&lt;a href=&quot;https://github.com/rongcloud/server-sdk-php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;server-sdk-php&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;api&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;apis&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * 融云server API 接口 新版 1.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Class ServerAPI&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@author&lt;/span&gt;  caolong&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@date&lt;/span&gt;    2014-12-10  15:30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@modify&lt;/span&gt;  2015-02-02  10:21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ServerAPI&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; $appKey;                &lt;span class=&quot;comment&quot;&gt;//appKey&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; $appSecret;             &lt;span class=&quot;comment&quot;&gt;//secret&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt;   SERVERAPIURL = &lt;span class=&quot;string&quot;&gt;&#39;https://api.cn.ronghub.com&#39;&lt;/span&gt;;    &lt;span class=&quot;comment&quot;&gt;//请求服务地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; $format;                &lt;span class=&quot;comment&quot;&gt;//数据格式 json/xml&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;($appKey,$appSecret,$format = &lt;span class=&quot;string&quot;&gt;&#39;json&#39;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $this-&amp;gt;appKey = $appKey;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $this-&amp;gt;appSecret = $appSecret;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $this-&amp;gt;format = $format;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getToken&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;($userId, $name, $portraitUri)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;empty&lt;/span&gt;($userId))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;用户 Id 不能为空&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;empty&lt;/span&gt;($name))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;用户名称 不能为空&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;empty&lt;/span&gt;($portraitUri))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;用户头像 URI 不能为空&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $ret = $this-&amp;gt;curl(&lt;span class=&quot;string&quot;&gt;&#39;/user/getToken&#39;&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;userId&#39;&lt;/span&gt;=&amp;gt;$userId,&lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;$name,&lt;span class=&quot;string&quot;&gt;&#39;portraitUri&#39;&lt;/span&gt;=&amp;gt;$portraitUri));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;empty&lt;/span&gt;($ret))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;请求失败&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; $ret;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt; $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            print_r($e-&amp;gt;getMessage());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;3.在controllers文件夹下新建RongController.php&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.rongcloud.cn/docs/server.html#获取_Token_方法&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server开发指南：获取Token方法&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;api&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;controllers&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Yii&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;yii&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;web&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;Controller&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;common&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;models&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;User&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;api&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;apis&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;ServerAPI&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;RongController&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Controller&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//从融云请求token，并将结果返回给客户端&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;actionToken&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;isset&lt;/span&gt;($_GET[&lt;span class=&quot;string&quot;&gt;&#39;uid&#39;&lt;/span&gt;]))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $uid=$_GET[&lt;span class=&quot;string&quot;&gt;&#39;uid&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $user=User::findOne($uid);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!$user) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $result[&lt;span class=&quot;string&quot;&gt;&#39;error&#39;&lt;/span&gt;] = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $result[&lt;span class=&quot;string&quot;&gt;&#39;msg&#39;&lt;/span&gt;] = &lt;span class=&quot;string&quot;&gt;&#39;用户不存在&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $p = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ServerAPI(&lt;span class=&quot;string&quot;&gt;&#39;appKey&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;AppSecret&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $r_json = $p-&amp;gt;getToken($user-&amp;gt;id ,$user-&amp;gt;username, $user-&amp;gt;avatar);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $r = json_decode($r_json);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;($r-&amp;gt;code == &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;//保存rongcloud token&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    $user-&amp;gt;rong_token = $r-&amp;gt;token;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    $user-&amp;gt;save();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;//返回json&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    $result[&lt;span class=&quot;string&quot;&gt;&#39;error&#39;&lt;/span&gt;] = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    $result[&lt;span class=&quot;string&quot;&gt;&#39;msg&#39;&lt;/span&gt;] = &lt;span class=&quot;string&quot;&gt;&quot;success&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    $result[&lt;span class=&quot;string&quot;&gt;&#39;uid&#39;&lt;/span&gt;] = $r-&amp;gt;userId;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    $result[&lt;span class=&quot;string&quot;&gt;&#39;token&#39;&lt;/span&gt;] = $r-&amp;gt;token;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    $result[&lt;span class=&quot;string&quot;&gt;&#39;error&#39;&lt;/span&gt;] = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    $result[&lt;span class=&quot;string&quot;&gt;&#39;msg&#39;&lt;/span&gt;] = &lt;span class=&quot;string&quot;&gt;&#39;获取token失败&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $result[&lt;span class=&quot;string&quot;&gt;&#39;error&#39;&lt;/span&gt;] = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $result[&lt;span class=&quot;string&quot;&gt;&#39;msg&#39;&lt;/span&gt;] = &lt;span class=&quot;string&quot;&gt;&quot;参数错误&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; json_encode($result);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;根据官方说法：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;客户端通过融云 SDK 每次连接服务器时，都需要向服务器提供 Token，以便验证身份。后续登录过程中，就不必再向融云请求 Token，由 App Server 直接提供之前保存过的 Token。如果您的 App 是免登录设计，也可以将 Token 保存在 App 本地（注意保证本地数据存储安全），直接登录。App 获取 Token 后，根据情况可选择在 App 本地保留当前用户的 Token，如果 Token 失效，还需要提供相应的代码重新向服务器获取 Token。在 融云开发者平台 设置 Token 有效期，默认永久有效，除非您在开发者后台刷新 App Secret ，Token 可以获取多次，但之前的仍然可用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;因此，上面actionToken中的代码只是作为首次调试，实际使用中仍需继续完善。&lt;/p&gt;
&lt;h3 id=&quot;Android客户端实现&quot;&gt;&lt;a href=&quot;#Android客户端实现&quot; class=&quot;headerlink&quot; title=&quot;Android客户端实现&quot;&gt;&lt;/a&gt;Android客户端实现&lt;/h3&gt;&lt;p&gt;Android客户端实现如下（网络请求使用AsyncHttpClient框架）：&lt;/p&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getToken&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 客户端网络请求&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    AsyncHttpClient client = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AsyncHttpClient();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 创建请求参数的封装的对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    RequestParams params = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; RequestParams();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    params.put(&lt;span class=&quot;string&quot;&gt;&quot;uid&quot;&lt;/span&gt;, uid);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 执行post方法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    client.post(API.RONG_TOKEN, params,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AsyncHttpResponseHandler() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onSuccess&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; statusCode, Header[] headers,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;[] responseBody)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (statusCode == &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            JSONObject response = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; JSONObject(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                    &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; String(responseBody));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            Log.e(&lt;span class=&quot;string&quot;&gt;&quot;RONG_TOKEN&quot;&lt;/span&gt;, response.toString());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (JSONException e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        Toast.makeText(MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;网络异常，稍后再试&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                Toast.LENGTH_SHORT).show();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onFailure&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; statusCode, Header[] headers,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;[] responseBody, Throwable &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;客户端与融云服务器建立连接&quot;&gt;&lt;a href=&quot;#客户端与融云服务器建立连接&quot; class=&quot;headerlink&quot; title=&quot;客户端与融云服务器建立连接&quot;&gt;&lt;/a&gt;客户端与融云服务器建立连接&lt;/h3&gt;&lt;p&gt;客户端拿到了token，就可以通过RongIM建立与融云服务器的连接：&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;connect&lt;/span&gt;(String token) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;selector-tag&quot;&gt;if&lt;/span&gt; (getApplicationInfo().packageName.equals(App&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            .getCurProcessName(getApplicationContext()))) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 建立与服务器的连接&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;selector-tag&quot;&gt;RongIM&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.connect&lt;/span&gt;(token, new RongIMClient.ConnectCallback() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;variable&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            public void onSuccess(String userid) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                Log&lt;span class=&quot;selector-class&quot;&gt;.e&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;LoginActivity&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;--onSuccess&quot;&lt;/span&gt; + userid);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;variable&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            public void onError(RongIMClient.ErrorCode errorCode) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                Log&lt;span class=&quot;selector-class&quot;&gt;.e&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;LoginActivity&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;--onError&quot;&lt;/span&gt; + errorCode);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;建立连接之后，就可以进行更多的操作了，详情可以查阅官方文档：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.rongcloud.cn/docs/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server 开发指南&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.rongcloud.cn/docs/android.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android SDK 开发指南&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;PHP服务器端接口配置&quot;&gt;&lt;a href=&quot;#PHP服务器端接口配置&quot; class=&quot;headerlink&quot; title=&quot;PHP服务器端接口配置&quot;&gt;&lt;/a&gt;PHP服务器端接口配置&lt;/h3&gt;&lt;p&gt;服务器端使用的是PHP框架Yii2（MVC架构）,首先需要进行以下配
    
    </summary>
    
      <category term="Android" scheme="http://blog.ybbz.site/categories/Android/"/>
    
      <category term="PHP" scheme="http://blog.ybbz.site/categories/Android/PHP/"/>
    
    
      <category term="PHP" scheme="http://blog.ybbz.site/tags/PHP/"/>
    
      <category term="Android" scheme="http://blog.ybbz.site/tags/Android/"/>
    
      <category term="SDK" scheme="http://blog.ybbz.site/tags/SDK/"/>
    
  </entry>
  
  <entry>
    <title>融云实践一：快速入门</title>
    <link href="http://blog.ybbz.site/2016/04/24/rongcloud-practice-1-introduction/"/>
    <id>http://blog.ybbz.site/2016/04/24/rongcloud-practice-1-introduction/</id>
    <published>2016-04-24T06:10:23.000Z</published>
    <updated>2016-04-24T16:15:16.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;融云是国内首家专业的即时通讯云服务提供商，专注为互联网、移动互联网开发者提供免费的即时通讯基础能力和云端服务。通过融云平台，开发者不必搭建服务端硬件环境，就可以将即时通讯、实时网络能力快速集成至应用中。&lt;/p&gt;
&lt;p&gt;针对开发者所需的不同场景，融云平台提供了一系列产品、技术解决方案，包括：客户端 IM 组件，客户端 IM 基础库，Web SDK，服务端 REST API 等。利用这些解决方案，开发者可以直接在自己的应用中构建出即时通讯产品，也可以无限创意出自己的即时通讯场景。&lt;/p&gt;
&lt;p&gt;融云 SDK 包括两部分：IM 界面组件和 IM 通讯能力库。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;集成流程&quot;&gt;&lt;a href=&quot;#集成流程&quot; class=&quot;headerlink&quot; title=&quot;集成流程&quot;&gt;&lt;/a&gt;集成流程&lt;/h3&gt;&lt;p&gt;融云的集成流程中几个关键环节需要注意：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;App 服务端换取 Token 流程，可以参考 &lt;a href=&quot;http://www.rongcloud.cn/docs/server.html#_获取_Token_方法&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server 开发文档 - 获取 Token 方法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;客户端集成流程，可以参考 &lt;a href=&quot;http://www.rongcloud.cn/docs/android.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android 开发指南&lt;/a&gt; 或者 &lt;a href=&quot;http://www.rongcloud.cn/docs/ios.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOS 开发指南&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;UI 界面自定义，可以参考 &lt;a href=&quot;http://www.rongcloud.cn/docs/android.html#_UI_自定义&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android 开发指南 - UI 自定义&lt;/a&gt; 或者 &lt;a href=&quot;http://www.rongcloud.cn/docs/ios.html#_UI_自定义&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOS 开发指南 - UI 自定义&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;Server-开发指南&quot;&gt;&lt;a href=&quot;#Server-开发指南&quot; class=&quot;headerlink&quot; title=&quot;Server 开发指南&quot;&gt;&lt;/a&gt;Server 开发指南&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;用户服务：从 App 服务端管理用户状态，获取身份认证令牌等。&lt;/li&gt;
&lt;li&gt;群组服务：从 App 服务端管理群组成员信息。&lt;/li&gt;
&lt;li&gt;聊天室服务：从 App 服务端管理聊天室信息。&lt;/li&gt;
&lt;li&gt;消息发送服务：从 App 服务端发送各种类型消息。&lt;/li&gt;
&lt;li&gt;消息路由服务：提供融云服务端到 App 服务端的消息路由服务。&lt;/li&gt;
&lt;li&gt;消息历史记录服务：提供 App 用户聊天消息历史记录下载服务。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;Android-SDK-开发指南&quot;&gt;&lt;a href=&quot;#Android-SDK-开发指南&quot; class=&quot;headerlink&quot; title=&quot;Android SDK 开发指南&quot;&gt;&lt;/a&gt;Android SDK 开发指南&lt;/h3&gt;&lt;h4 id=&quot;前期准备&quot;&gt;&lt;a href=&quot;#前期准备&quot; class=&quot;headerlink&quot; title=&quot;前期准备&quot;&gt;&lt;/a&gt;前期准备&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;注册开发者帐号&lt;/li&gt;
&lt;li&gt;下载 SDK&lt;/li&gt;
&lt;li&gt;创建应用&lt;/li&gt;
&lt;li&gt;获取 Token&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;创建项目&quot;&gt;&lt;a href=&quot;#创建项目&quot; class=&quot;headerlink&quot; title=&quot;创建项目&quot;&gt;&lt;/a&gt;创建项目&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.rongcloud.cn/?p=404&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;融云 SDK 2.0 集成详解 – Eclipse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.rongcloud.cn/?p=392&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;融云 SDK 2.0 集成详解 – Android Studio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;快速集成&quot;&gt;&lt;a href=&quot;#快速集成&quot; class=&quot;headerlink&quot; title=&quot;快速集成&quot;&gt;&lt;/a&gt;快速集成&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/rongcloud/demo-app-android-quick-start&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Studio 快速集成&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/rongcloud/demo-app-android-quick-start-eclipse&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Eclipse 快速集成&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;融云是国内首家专业的即时通讯云服务提供商，专注为互联网、移动互联网开发者提供免费的即时通讯基础能力和云端服务。通过
    
    </summary>
    
      <category term="Android" scheme="http://blog.ybbz.site/categories/Android/"/>
    
    
      <category term="Android" scheme="http://blog.ybbz.site/tags/Android/"/>
    
      <category term="SDK" scheme="http://blog.ybbz.site/tags/SDK/"/>
    
  </entry>
  
  <entry>
    <title>如何管理博客图片</title>
    <link href="http://blog.ybbz.site/2016/04/23/manage-blog-images/"/>
    <id>http://blog.ybbz.site/2016/04/23/manage-blog-images/</id>
    <published>2016-04-23T06:08:45.000Z</published>
    <updated>2016-04-24T15:45:17.000Z</updated>
    
    <content type="html">&lt;p&gt;很多时候，我们需要在博客文章中插入图片。那么，如何管理自己的博客图片呢？以下是我用过的几种方式。&lt;/p&gt;
&lt;h3 id=&quot;百度相册&quot;&gt;&lt;a href=&quot;#百度相册&quot; class=&quot;headerlink&quot; title=&quot;百度相册&quot;&gt;&lt;/a&gt;百度相册&lt;/h3&gt;&lt;p&gt;这种方法是以前公司的运营小伙伴告诉我的，将图片上传到百度相册再复制链接。我尝试着在博客中使用了这种方式，当时发现的确可以，但是，后来发现这种外链会被GitHub屏蔽，这样的话文章中的图片就无法显示。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xsjt1.com2.z0.glb.clouddn.com/IMG_20160424_1.jpeg&quot; alt=&quot;img1&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;GitHub-Pages&quot;&gt;&lt;a href=&quot;#GitHub-Pages&quot; class=&quot;headerlink&quot; title=&quot;GitHub Pages&quot;&gt;&lt;/a&gt;GitHub Pages&lt;/h3&gt;&lt;p&gt;当百度相册不能用的时候，我便尝试使用了这种办法，可以解决博客配图的需求，但是缺点很明显。这样会使得GitHub Pages有些臃肿，也无法在MarkDown编辑器中预览图片效果；除非先把图片push（Jekyll）或者deploy（Hexo）上去，再写博客…好处是，只要你使用GitHub Pages写博客，这种方法就不会过时、也不收费！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xsjt1.com2.z0.glb.clouddn.com/IMG_20160424_4.jpeg&quot; alt=&quot;img4&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;七牛云存储&quot;&gt;&lt;a href=&quot;#七牛云存储&quot; class=&quot;headerlink&quot; title=&quot;七牛云存储&quot;&gt;&lt;/a&gt;七牛云存储&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://www.qiniu.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;七牛云存储&lt;/a&gt;是大家经常使用的一种方式，也是在各种场合被推荐的最多的一种方式。七牛云存储有10G的免费存储空间，每个月10G流量；一般来说，都够用了；还可以绑定自己的域名。至于以后会不会收费之类的……附&lt;a href=&quot;https://segmentfault.com/qiniu&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;七牛云存储问答社区&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xsjt1.com2.z0.glb.clouddn.com/IMG_20160424_2.jpeg&quot; alt=&quot;img2&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xsjt1.com2.z0.glb.clouddn.com/IMG_20160424_3.jpeg&quot; alt=&quot;img3&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;自己的服务器&quot;&gt;&lt;a href=&quot;#自己的服务器&quot; class=&quot;headerlink&quot; title=&quot;自己的服务器&quot;&gt;&lt;/a&gt;自己的服务器&lt;/h3&gt;&lt;p&gt;用自己的服务器（阿里云／青云…），是我写着写着想到的。貌似是一种万能的方式，不止图片，可以管理所有资源，私密的or公开的。只是我不知道有多少人在用，反正我没有用^ ^&lt;/p&gt;
&lt;h3 id=&quot;其他方式&quot;&gt;&lt;a href=&quot;#其他方式&quot; class=&quot;headerlink&quot; title=&quot;其他方式&quot;&gt;&lt;/a&gt;其他方式&lt;/h3&gt;&lt;p&gt;如果读者有其他办法，也可以推荐给我。大家一起交流、学习。（抱拳！）&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;很多时候，我们需要在博客文章中插入图片。那么，如何管理自己的博客图片呢？以下是我用过的几种方式。&lt;/p&gt;
&lt;h3 id=&quot;百度相册&quot;&gt;&lt;a href=&quot;#百度相册&quot; class=&quot;headerlink&quot; title=&quot;百度相册&quot;&gt;&lt;/a&gt;百度相册&lt;/h3&gt;&lt;p&gt;这种方法是以
    
    </summary>
    
      <category term="Tool" scheme="http://blog.ybbz.site/categories/Tool/"/>
    
    
      <category term="Tool" scheme="http://blog.ybbz.site/tags/Tool/"/>
    
      <category term="Images" scheme="http://blog.ybbz.site/tags/Images/"/>
    
  </entry>
  
  <entry>
    <title>根号值逼近问题的算法</title>
    <link href="http://blog.ybbz.site/2016/04/20/Algorithm-2/"/>
    <id>http://blog.ybbz.site/2016/04/20/Algorithm-2/</id>
    <published>2016-04-19T16:00:00.000Z</published>
    <updated>2016-04-23T12:35:23.000Z</updated>
    
    <content type="html">&lt;p&gt;在Python中，可以通过以下方式表达根号&lt;/p&gt;
&lt;figure class=&quot;highlight moonscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;math&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;a = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; ** &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(a)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;b = &lt;span class=&quot;built_in&quot;&gt;math&lt;/span&gt;.sqrt(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(b)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;c = &lt;span class=&quot;built_in&quot;&gt;math&lt;/span&gt;.pow(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(c)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;算法一&quot;&gt;&lt;a href=&quot;#算法一&quot; class=&quot;headerlink&quot; title=&quot;算法一&quot;&gt;&lt;/a&gt;算法一&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;sqrt(num)在区间（left, right）内&lt;/li&gt;
&lt;li&gt;计算middle=(left＋right)/2，&lt;/li&gt;
&lt;li&gt;如果middle-num&amp;gt;0，那么sqrt(num)就在区间(left, middle)之间&lt;/li&gt;
&lt;li&gt;如果middle-num&amp;lt;0，那么sqrt(num)就在区间(middle, right)之间&lt;/li&gt;
&lt;li&gt;设定误差限在0.001，即上面减法的差值的绝对值小于0.001，便不再计算&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;def sqrt_2(left, &lt;span class=&quot;literal&quot;&gt;right&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;num&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;middle&lt;/span&gt; = (left + &lt;span class=&quot;literal&quot;&gt;right&lt;/span&gt;) / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;middle&lt;/span&gt; - &lt;span class=&quot;built_in&quot;&gt;num&lt;/span&gt; &amp;gt; &lt;span class=&quot;number&quot;&gt;0.001&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;literal&quot;&gt;return&lt;/span&gt; sqrt_2(left, &lt;span class=&quot;keyword&quot;&gt;middle&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;num&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    elif &lt;span class=&quot;keyword&quot;&gt;middle&lt;/span&gt; - &lt;span class=&quot;built_in&quot;&gt;num&lt;/span&gt; &amp;lt; &lt;span class=&quot;number&quot;&gt;-0.001&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;literal&quot;&gt;return&lt;/span&gt; sqrt_2(&lt;span class=&quot;keyword&quot;&gt;middle&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;right&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;num&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;literal&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;middle&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(sqrt_2(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, b))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;算法二&quot;&gt;&lt;a href=&quot;#算法二&quot; class=&quot;headerlink&quot; title=&quot;算法二&quot;&gt;&lt;/a&gt;算法二&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;((sqrt(x)-sqrt(num/x))^2=0的根就是sqrt(num)&lt;/li&gt;
&lt;li&gt;上面公式变形为sqrt(num)=(x+num/x)/2&lt;/li&gt;
&lt;li&gt;设定误差限在0.001，并重复计算&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sqrt_1&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(num, x)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    result = (x + num / x) / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; math.fabs(result - b) &amp;lt; &lt;span class=&quot;number&quot;&gt;0.001&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; result&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sqrt_1(num, result)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(sqrt_1(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(sqrt_1(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(sqrt_1(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在Python中，可以通过以下方式表达根号&lt;/p&gt;
&lt;figure class=&quot;highlight moonscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span cl
    
    </summary>
    
      <category term="Algorithm" scheme="http://blog.ybbz.site/categories/Algorithm/"/>
    
    
      <category term="Python" scheme="http://blog.ybbz.site/tags/Python/"/>
    
      <category term="Algorithm" scheme="http://blog.ybbz.site/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>判断两个单向链表是否相交</title>
    <link href="http://blog.ybbz.site/2016/04/20/Algorithm-3/"/>
    <id>http://blog.ybbz.site/2016/04/20/Algorithm-3/</id>
    <published>2016-04-19T16:00:00.000Z</published>
    <updated>2016-04-23T12:35:04.000Z</updated>
    
    <content type="html">&lt;p&gt;问题描述：给定两个单向链表，判断链表是否相交（有共同的节点）。&lt;/p&gt;
&lt;h3 id=&quot;算法一&quot;&gt;&lt;a href=&quot;#算法一&quot; class=&quot;headerlink&quot; title=&quot;算法一&quot;&gt;&lt;/a&gt;算法一&lt;/h3&gt;&lt;p&gt;对链表一进行遍历，在遍历到每一个节点时，都在链表二中进行遍历，看是否有重复的节点。&lt;/p&gt;
&lt;h4 id=&quot;算法一改进&quot;&gt;&lt;a href=&quot;#算法一改进&quot; class=&quot;headerlink&quot; title=&quot;算法一改进&quot;&gt;&lt;/a&gt;算法一改进&lt;/h4&gt;&lt;p&gt;以空间换时间：将链表二存入字典，然后遍历链表一，判断是否在于字典中。简化后，时间复杂度变为 O(n+m)，但空间复杂度较高。&lt;/p&gt;
&lt;h3 id=&quot;算法二&quot;&gt;&lt;a href=&quot;#算法二&quot; class=&quot;headerlink&quot; title=&quot;算法二&quot;&gt;&lt;/a&gt;算法二&lt;/h3&gt;&lt;p&gt;算法二的思路基于以下两个原理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;两个单向链表相交后，必然无法再分开。&lt;/li&gt;
&lt;li&gt;两个单项链表相交后，尾节点一定相同。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;假设两个链表相交，很容易证明两个链表的尾元素是相同的。&lt;br&gt;逆反命题：两个链表的尾元素相同时，两个链表一定相交。&lt;br&gt;（注意：相同的节点不仅仅要求值相同，而是“同一个”，也就是指针地址相同。）&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;问题描述：给定两个单向链表，判断链表是否相交（有共同的节点）。&lt;/p&gt;
&lt;h3 id=&quot;算法一&quot;&gt;&lt;a href=&quot;#算法一&quot; class=&quot;headerlink&quot; title=&quot;算法一&quot;&gt;&lt;/a&gt;算法一&lt;/h3&gt;&lt;p&gt;对链表一进行遍历，在遍历到每一个节点时，都在链表二中进
    
    </summary>
    
      <category term="Algorithm" scheme="http://blog.ybbz.site/categories/Algorithm/"/>
    
    
      <category term="Algorithm" scheme="http://blog.ybbz.site/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>庆祝我的第一个独立APP上线</title>
    <link href="http://blog.ybbz.site/2016/04/18/my-first-andorid-app-online/"/>
    <id>http://blog.ybbz.site/2016/04/18/my-first-andorid-app-online/</id>
    <published>2016-04-17T16:00:00.000Z</published>
    <updated>2016-04-23T12:35:49.000Z</updated>
    
    <content type="html">&lt;p&gt;所谓独立，就是说这个APP是我私人开发的，不牵扯其他任何个人或组织。之前一直自称Android工程师，可是并没有自己上线的作品；至于Android项目么，要么是和队友们一块儿合作的，不敢冠上自己的名字；要么就是自己做着玩的，压根没想过要发布。&lt;/p&gt;
&lt;p&gt;Mr.葵，是我上个月的一时兴趣开发的，关于它的更多介绍，可以在&lt;a href=&quot;http://blog.ybbz.site/android/2016/03/15/App-develop/&quot;&gt;记一次有趣的App开发之旅&lt;/a&gt;中找到。不过为了顺利上线，这几天对它进行了一部分的改造。&lt;/p&gt;
&lt;p&gt;有关这个APP，核心就是一个功能，记录自己的生活事宜，并做统计分析（好吧，其实数据挖掘和分析才是我的真正关注点）；然后又按照自己的兴趣，加了几个小功能，比如今日天气、星座运势、历史上的今天等。当然，并不止于此，下一版本，可能会增加其他有意思的功能。&lt;/p&gt;
&lt;p&gt;有关用户注册与登录，可以通过手机号注册/登录，或者新浪微博第三方登录。我想说的是，因为短信服务基本都是收费的，所以我没有集成短信服务；因此注册时并没有短信验证码，这是一个不足之处。&lt;/p&gt;
&lt;p&gt;关于上线，就只在360手机助手和应用宝提交了；说说360吧，5分钟左右，就给我审核通过并上线了，当时还是蛮激动的（360，我为你点赞；至于应用宝，还在审核中）。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160418_1.jpeg&quot; alt=&quot;20160418_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下载地址：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://zhushou.360.cn/detail/index/soft_id/3261474?recrefer=SE_D_Mr.%E8%91%B5&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;360手机助手&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://android.myapp.com/myapp/detail.htm?apkName=com.kui.activity&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;应用宝&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://ybbz.site/app/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;APP发布网页&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;更多的，读者可以自己下载安装体验；如果想加入其他功能，也可以告诉我。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;所谓独立，就是说这个APP是我私人开发的，不牵扯其他任何个人或组织。之前一直自称Android工程师，可是并没有自己上线的作品；至于Android项目么，要么是和队友们一块儿合作的，不敢冠上自己的名字；要么就是自己做着玩的，压根没想过要发布。&lt;/p&gt;
&lt;p&gt;Mr.葵，是我上
    
    </summary>
    
      <category term="Android" scheme="http://blog.ybbz.site/categories/Android/"/>
    
    
      <category term="Android" scheme="http://blog.ybbz.site/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>《Hadoop海量数据处理》读书笔记2:Hadoop环境准备</title>
    <link href="http://blog.ybbz.site/2016/04/15/Hadoop-foundation-two/"/>
    <id>http://blog.ybbz.site/2016/04/15/Hadoop-foundation-two/</id>
    <published>2016-04-14T16:00:00.000Z</published>
    <updated>2016-04-23T09:28:47.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Hadoop架构&quot;&gt;&lt;a href=&quot;#Hadoop架构&quot; class=&quot;headerlink&quot; title=&quot;Hadoop架构&quot;&gt;&lt;/a&gt;Hadoop架构&lt;/h3&gt;&lt;p&gt;Hadoop主要由两部分构成：分布式文件系统HDFS和分布式计算框架MapReduce；HDFS主要是用于海量数据的存储，MapReduce则是对存储在HDFS中的数据进行分布式计算。&lt;/p&gt;
&lt;h4 id=&quot;Hadoop-HDFS架构&quot;&gt;&lt;a href=&quot;#Hadoop-HDFS架构&quot; class=&quot;headerlink&quot; title=&quot;Hadoop HDFS架构&quot;&gt;&lt;/a&gt;Hadoop HDFS架构&lt;/h4&gt;&lt;p&gt;构成HDFS集群的主要是两类节点（主从模式，管理者－工作者模式）：一个NameNode（管理者）和多个DataNode（工作者），SecondaryNameNode作为NameNode镜像数据备份。&lt;/p&gt;
&lt;p&gt;表：HDFS守护进程&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;守护进程&lt;/th&gt;
&lt;th&gt;集群中的数目&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;NameNode&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;存储文件系统的元数据，存储文件与数据块映射，并提供文件系统的全景图&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SecondaryNameNode&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;备份NameNode数据，并负责镜像与NameNode日志数据的合并&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DataNode&lt;/td&gt;
&lt;td&gt;多个(至少一个)&lt;/td&gt;
&lt;td&gt;存储块数据&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;Hadoop-MapReduce架构&quot;&gt;&lt;a href=&quot;#Hadoop-MapReduce架构&quot; class=&quot;headerlink&quot; title=&quot;Hadoop MapReduce架构&quot;&gt;&lt;/a&gt;Hadoop MapReduce架构&lt;/h4&gt;&lt;p&gt;构成MapReduce集群为两类节点（主从模式）：JobTracker和TaskTracker。&lt;/p&gt;
&lt;p&gt;表：MapReduce守护进程&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;守护进程&lt;/th&gt;
&lt;th&gt;集群中的数目&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;JobTracker&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;负责接受客户端作业提交，调度任务到TaskTracker上运行，并提供监控TaskTracker及任务进度等管理功能&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TaskTracker&lt;/td&gt;
&lt;td&gt;多个(至少一个)&lt;/td&gt;
&lt;td&gt;实例化用户程序，在本地执行任务并周期性地向JobTracker汇报状态&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;Hadoop架构-1&quot;&gt;&lt;a href=&quot;#Hadoop架构-1&quot; class=&quot;headerlink&quot; title=&quot;Hadoop架构&quot;&gt;&lt;/a&gt;Hadoop架构&lt;/h4&gt;&lt;p&gt;HDFS集群和MapReduce集群其实由一些守护进程组成，而所有这些守护进程和运行它们的节点就构成了Hadoop集群。这个集群的NameNode进程和JobTracker进程在一个节点上运行，而DataNode进程和TaskTracker进程在同一个节点上运行。（DataNode和TaskTracker需要配对部署在同一个节点，NameNode和JobTracker并不一定部署在同一个节点；生产环境，建议NameNode和JobTracker分开部署）。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Hadoop架构&quot;&gt;&lt;a href=&quot;#Hadoop架构&quot; class=&quot;headerlink&quot; title=&quot;Hadoop架构&quot;&gt;&lt;/a&gt;Hadoop架构&lt;/h3&gt;&lt;p&gt;Hadoop主要由两部分构成：分布式文件系统HDFS和分布式计算框架MapReduce；HD
    
    </summary>
    
      <category term="Hadoop" scheme="http://blog.ybbz.site/categories/Hadoop/"/>
    
    
      <category term="Hadoop" scheme="http://blog.ybbz.site/tags/Hadoop/"/>
    
      <category term="云计算" scheme="http://blog.ybbz.site/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/"/>
    
      <category term="大数据" scheme="http://blog.ybbz.site/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>《Hadoop海量数据处理》读书笔记1:Hadoop简介</title>
    <link href="http://blog.ybbz.site/2016/04/15/Hadoop-foundation-one/"/>
    <id>http://blog.ybbz.site/2016/04/15/Hadoop-foundation-one/</id>
    <published>2016-04-14T16:00:00.000Z</published>
    <updated>2016-04-23T09:28:41.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Hadoop定义&quot;&gt;&lt;a href=&quot;#Hadoop定义&quot; class=&quot;headerlink&quot; title=&quot;Hadoop定义&quot;&gt;&lt;/a&gt;Hadoop定义&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;Apache软件基金会（ASF）：Hadoop软件库是一个框架，允许在集群中使用简单的编程模型对大规模数据集进行分布式计算。它被设计为可以从单一服务器扩展到数以千计的本地计算和存储的节点，并且Hadoop会在应用层面检测和处理错误，而不依靠硬件的高可用性，所以Hadoop能够在一个每个节点都有可能出错的集群之上提供一个高可用服务。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;根据以上定义总结Hadoop特点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Hadoop是一个框架&lt;/li&gt;
&lt;li&gt;Hadoop适合处理大规模数据&lt;/li&gt;
&lt;li&gt;Hadoop被部署在一个集群上&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;因此，Hadoop是一个提供分布式存储和计算的软件框架，它具有无共享、高可用、弹性可扩展的特点，非常适合处理海量数据。&lt;/p&gt;
&lt;h3 id=&quot;Hadoop生态圈&quot;&gt;&lt;a href=&quot;#Hadoop生态圈&quot; class=&quot;headerlink&quot; title=&quot;Hadoop生态圈&quot;&gt;&lt;/a&gt;Hadoop生态圈&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Common：最底层模块，为Hadoop各子项目提供各种工具&lt;/li&gt;
&lt;li&gt;HDFS：具有高度容错性的文件系统&lt;/li&gt;
&lt;li&gt;MapReduce：编程模型，函数式编程思想，将数据集处理过程分为Map和Reduce&lt;/li&gt;
&lt;li&gt;HBase：分布式的、面向列的开源数据库&lt;/li&gt;
&lt;li&gt;ZooKeeper：分布式的服务框架，解决分布式系统中一致性的问题&lt;/li&gt;
&lt;li&gt;Hive：基于Hadoop的一个数据仓库工具，将结构化的数据文件映射为一张表&lt;/li&gt;
&lt;li&gt;Pig：对大型数据集进行分析和评估的工具&lt;/li&gt;
&lt;li&gt;Impala：对存储在HDFS、HBase的数据提供直接查询互动的SQL&lt;/li&gt;
&lt;li&gt;Mahout：机器学习和数据挖掘库，利用MapReduce实现k-means,Naive Bayes等&lt;/li&gt;
&lt;li&gt;Flume：高可用、高可靠、分布式的海量日志采集、聚合和传输系统&lt;/li&gt;
&lt;li&gt;Sqoop：SQL to Hadoop，在结构化的数据存储（数据库）和Hadoop之间进行数据双向交换&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;云计算的定义&quot;&gt;&lt;a href=&quot;#云计算的定义&quot; class=&quot;headerlink&quot; title=&quot;云计算的定义&quot;&gt;&lt;/a&gt;云计算的定义&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;美国国家标准技术研究院（NIST）：云计算是一种可以通过网络方便地接入共享资源池，按需获取计算资源（这些资源包括网络、服务器、存储、应用、服务等）的服务模型。共享资源池中的资源可以通过较少的管理代价和简单业务交互过程而快速部署和发布&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;云计算的特点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;按需提供服务&lt;/li&gt;
&lt;li&gt;宽带网络访问&lt;/li&gt;
&lt;li&gt;资源池化&lt;/li&gt;
&lt;li&gt;高可伸缩性&lt;/li&gt;
&lt;li&gt;可量化的服务&lt;/li&gt;
&lt;li&gt;&lt;em&gt;大规模&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;服务极其廉价&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;云计算的类型：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;基础设施即服务（IaaS）：云计算架构最底层，利用虚拟化技术将硬件设备等基础资源封装成服务供用户使用。&lt;/li&gt;
&lt;li&gt;平台即服务（Paas）：对资源进行更进一步的抽象，它提供了用户应用程序的应用环境。&lt;/li&gt;
&lt;li&gt;软件即服务（SaaS）：针对性更强，它将某些特定应用软件功能封装成服务。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;Hadoop和云计算&quot;&gt;&lt;a href=&quot;#Hadoop和云计算&quot; class=&quot;headerlink&quot; title=&quot;Hadoop和云计算&quot;&gt;&lt;/a&gt;Hadoop和云计算&lt;/h3&gt;&lt;p&gt;Hadoop是云计算的产物，是云计算技术的一种实现。&lt;br&gt;Hadoop作为一个分布式的软件框架，拥有云计算Paas层的所有特点，是云计算的重要组成部分。&lt;/p&gt;
&lt;h3 id=&quot;大数据的定义&quot;&gt;&lt;a href=&quot;#大数据的定义&quot; class=&quot;headerlink&quot; title=&quot;大数据的定义&quot;&gt;&lt;/a&gt;大数据的定义&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;国际顶级权威咨询机构麦肯锡：大数据指的是所涉及的数据集规模已经超过了传统数据库软件获取、存储、管理和分析的能力。这是一个被故意设计成主观性的定义，并且是一个关于多大的数据集才能被认为是大数据的可变定义，即并不定义大于一个特定数字的TB才叫大数据。因为随着技术的不断发展，符合大数据标准的数据集容量也会增长；并且定义随不同行业也有变化，这依赖于在一个特定行业通常使用何种软件和数据集有多大。因此，大数据在今天不同行业中的范围可以从几十TB到几PB。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;大数据的特征：数量（Volume）、种类（Variety）、速度（Velocity），3V，庞大容量、极快速度和种类丰富的数据。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数据量&lt;/li&gt;
&lt;li&gt;数据的多样性&lt;/li&gt;
&lt;li&gt;数据的速度&lt;/li&gt;
&lt;li&gt;&lt;em&gt;第四个V（Veracity，真实和准确）&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;大数据的结构类型&quot;&gt;&lt;a href=&quot;#大数据的结构类型&quot; class=&quot;headerlink&quot; title=&quot;大数据的结构类型&quot;&gt;&lt;/a&gt;大数据的结构类型&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;结构化数据：包括预定义的数据类型、格式和结构的数据&lt;/li&gt;
&lt;li&gt;半结构化数据：具有可识别的模式并可以解析的文本数据文件（XML等）&lt;/li&gt;
&lt;li&gt;准结构化数据：具有不规则数据格式的文本数据，使用工具可以使之格式化（URL）&lt;/li&gt;
&lt;li&gt;非结构化数据：没有固定结构的数据（文本文档、PDF文档、图像和视频）&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;Hadoop和大数据&quot;&gt;&lt;a href=&quot;#Hadoop和大数据&quot; class=&quot;headerlink&quot; title=&quot;Hadoop和大数据&quot;&gt;&lt;/a&gt;Hadoop和大数据&lt;/h3&gt;&lt;p&gt;云计算和大数据的关系：云计算是你在做的事情，大数据使你所拥有的东西&lt;/p&gt;
&lt;p&gt;所谓云计算PaaS层技术的代表，Hadoop可以以一个可靠、高效、可扩展的方式存储、管理“大数据”。Hadoop及其生态圈为管理、挖掘大数据提供了一整套相对成熟可靠的解决方案。从功能上，Hadoop可以称作一个“大数据管理平台”。&lt;/p&gt;
&lt;p&gt;Hadoop的核心组件：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;海量数据的摇篮－HDFS&lt;/li&gt;
&lt;li&gt;处理海量数据的利器－MapReduce&lt;/li&gt;
&lt;li&gt;列式存储的代表－HBase&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;由于Hadoop可以基于分布式存储进行分布式计算，横向扩展能力非常优秀，所以Hadoop非常适合并且能够胜任存储、管理、挖掘“大数据”的任务。&lt;/p&gt;
&lt;h3 id=&quot;其他大数据平台&quot;&gt;&lt;a href=&quot;#其他大数据平台&quot; class=&quot;headerlink&quot; title=&quot;其他大数据平台&quot;&gt;&lt;/a&gt;其他大数据平台&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;Storm&lt;br&gt;Hadoop主要擅长进行批处理，Storm是一个比较成熟的分布式的流计算平台。流式数据：计算的输入并不是一个文件，而是源源不断的数据流(数据实时到达，需要实时处理；数据是流式源源不断的，大小可能无穷无尽……)。Storm计算模型不是MapReduce，MapReduce不适合做流处理。&lt;/li&gt;
&lt;li&gt;Apache Spark&lt;br&gt;Apache Spark是一种与Hadoop相似的开源集群计算环境，在性能和迭代计算上很有优势。Spark最大的优点在于对于一定数据量的查询可以达到毫秒级，在某些迭代计算的场景（如机器学习算法）中可以领先Hadoop数十倍到一百倍，并且它支持DAG（有向无环图）计算。&lt;/li&gt;
&lt;li&gt;Hadoop2.0&lt;br&gt;Hadoop2.0从架构上与Hadoop完全不同，结构更加合理；最大的不同在于，引入了一个资源管理平台的组件－YARN。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;数据挖掘&quot;&gt;&lt;a href=&quot;#数据挖掘&quot; class=&quot;headerlink&quot; title=&quot;数据挖掘&quot;&gt;&lt;/a&gt;数据挖掘&lt;/h3&gt;&lt;p&gt;数据-&amp;gt;知识&lt;/p&gt;
&lt;h3 id=&quot;数据仓库&quot;&gt;&lt;a href=&quot;#数据仓库&quot; class=&quot;headerlink&quot; title=&quot;数据仓库&quot;&gt;&lt;/a&gt;数据仓库&lt;/h3&gt;&lt;p&gt;数据仓库是一个面向主题的、集成的、时变的、非易失的数据集合，支持管理者的决策过程。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Hadoop定义&quot;&gt;&lt;a href=&quot;#Hadoop定义&quot; class=&quot;headerlink&quot; title=&quot;Hadoop定义&quot;&gt;&lt;/a&gt;Hadoop定义&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;Apache软件基金会（ASF）：Hadoop软件库是一个框架，允
    
    </summary>
    
      <category term="Hadoop" scheme="http://blog.ybbz.site/categories/Hadoop/"/>
    
    
      <category term="Hadoop" scheme="http://blog.ybbz.site/tags/Hadoop/"/>
    
      <category term="云计算" scheme="http://blog.ybbz.site/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/"/>
    
      <category term="大数据" scheme="http://blog.ybbz.site/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>微信公众平台开发实践</title>
    <link href="http://blog.ybbz.site/2016/04/11/WeChat-public-platform-development-practices/"/>
    <id>http://blog.ybbz.site/2016/04/11/WeChat-public-platform-development-practices/</id>
    <published>2016-04-10T16:00:00.000Z</published>
    <updated>2016-04-23T12:39:32.000Z</updated>
    
    <content type="html">&lt;p&gt;今天中午去图书馆还书&amp;amp;&amp;amp;借书，偶然看到一本《微信公众平台开发最佳实践》，想着竟然这也有教材了？于是就借回来看了一下，拿自己的微信公众号（硬性植入：八宝粥）当小白鼠，实践了其中一部分。&lt;/p&gt;
&lt;p&gt;开发需要有自己的服务器，这本书上说的新浪SAE不错，于是我也就打算用SAE试试。之前就用过SAE，不过很久没用了；登录了一看，欠费了！！！我那“挺尸”了好几年的WordPress博客，竟然还在收费。为了接着用，就充了10块钱。顺便把博客删了。&lt;/p&gt;
&lt;h3 id=&quot;服务器端的验证文件-PHP实现&quot;&gt;&lt;a href=&quot;#服务器端的验证文件-PHP实现&quot; class=&quot;headerlink&quot; title=&quot;服务器端的验证文件(PHP实现)&quot;&gt;&lt;/a&gt;服务器端的验证文件(PHP实现)&lt;/h3&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;define(&lt;span class=&quot;string&quot;&gt;&quot;TOKEN&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;weixin&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$wechatObj = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; wechatCallbackapiTest();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;isset&lt;/span&gt;($_GET[&lt;span class=&quot;string&quot;&gt;&#39;echostr&#39;&lt;/span&gt;])) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    $wechatObj-&amp;gt;valid();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    $wechatObj-&amp;gt;responseMsg();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;wechatCallbackapiTest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//验证签名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;valid&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $echoStr = $_GET[&lt;span class=&quot;string&quot;&gt;&quot;echostr&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;($this-&amp;gt;checkSignature())&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $echoStr;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;exit&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;checkSignature&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $signature = $_GET[&lt;span class=&quot;string&quot;&gt;&quot;signature&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $timestamp = $_GET[&lt;span class=&quot;string&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $nonce = $_GET[&lt;span class=&quot;string&quot;&gt;&quot;nonce&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $token = TOKEN;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $tmpArr = &lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;($token, $timestamp, $nonce);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sort($tmpArr, SORT_STRING);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $tmpStr = implode( $tmpArr );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $tmpStr = sha1( $tmpStr );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;( $tmpStr == $signature )&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//响应消息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;responseMsg&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $postStr = $GLOBALS[&lt;span class=&quot;string&quot;&gt;&quot;HTTP_RAW_POST_DATA&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;keyword&quot;&gt;empty&lt;/span&gt;($postStr))&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $postObj = simplexml_load_string($postStr, &lt;span class=&quot;string&quot;&gt;&#39;SimpleXMLElement&#39;&lt;/span&gt;, LIBXML_NOCDATA);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $fromUsername = $postObj-&amp;gt;FromUserName;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $toUsername = $postObj-&amp;gt;ToUserName;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $keyword = trim($postObj-&amp;gt;Content);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $time = time();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $textTpl = &lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;xml&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;lt;ToUserName&amp;gt;&amp;lt;![CDATA[%s]]&amp;gt;&amp;lt;/ToUserName&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;lt;FromUserName&amp;gt;&amp;lt;![CDATA[%s]]&amp;gt;&amp;lt;/FromUserName&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;lt;CreateTime&amp;gt;%s&amp;lt;/CreateTime&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;lt;MsgType&amp;gt;&amp;lt;![CDATA[%s]]&amp;gt;&amp;lt;/MsgType&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;lt;Content&amp;gt;&amp;lt;![CDATA[%s]]&amp;gt;&amp;lt;/Content&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;lt;FuncFlag&amp;gt;0&amp;lt;/FuncFlag&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;lt;/xml&amp;gt;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;($keyword == &lt;span class=&quot;string&quot;&gt;&quot;?&quot;&lt;/span&gt; || $keyword == &lt;span class=&quot;string&quot;&gt;&quot;？&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $msgType = &lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $contentStr = date(&lt;span class=&quot;string&quot;&gt;&quot;Y-m-d H:i:s&quot;&lt;/span&gt;,time());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $resultStr = sprintf($textTpl, $fromUsername, $toUsername, $time, $msgType, $contentStr);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $resultStr;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;exit&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;微信公众平台配置&quot;&gt;&lt;a href=&quot;#微信公众平台配置&quot; class=&quot;headerlink&quot; title=&quot;微信公众平台配置&quot;&gt;&lt;/a&gt;微信公众平台配置&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160411_1.png&quot; alt=&quot;20160411_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;终于走到验证服务器这一步，点击提交。可是提交了很多次，无论如何都是“Token验证失败”，尝试了很多次，也试了网上的一些解决办法，没用。&lt;/p&gt;
&lt;p&gt;于是回到起点，老老实实的在自己的阿里云服务器上新建一个虚拟机，解析域名，ftp上传验证文件。然后就成功了……&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160411_2.png&quot; alt=&quot;20160411_2&quot;&gt;&lt;/p&gt;
&lt;p&gt;不过，验证成功后，公众号原本的自动回复和自定义菜单功能就不能使用了，因为需要自己在服务器端配置。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160411_3.png&quot; alt=&quot;20160411_3&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160411_4.png&quot; alt=&quot;20160411_4&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;基础接口&quot;&gt;&lt;a href=&quot;#基础接口&quot; class=&quot;headerlink&quot; title=&quot;基础接口&quot;&gt;&lt;/a&gt;基础接口&lt;/h3&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//用户发送的消息类型判断&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; ($RX_TYPE)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;//文本消息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $result = $this-&amp;gt;receiveText($postObj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;image&quot;&lt;/span&gt;:   &lt;span class=&quot;comment&quot;&gt;//图片消息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $result = $this-&amp;gt;receiveImage($postObj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;voice&quot;&lt;/span&gt;:   &lt;span class=&quot;comment&quot;&gt;//语音消息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $result = $this-&amp;gt;receiveVoice($postObj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;video&quot;&lt;/span&gt;:   &lt;span class=&quot;comment&quot;&gt;//视频消息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $result = $this-&amp;gt;receiveVideo($postObj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;location&quot;&lt;/span&gt;:&lt;span class=&quot;comment&quot;&gt;//位置消息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $result = $this-&amp;gt;receiveLocation($postObj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;link&quot;&lt;/span&gt;:    &lt;span class=&quot;comment&quot;&gt;//链接消息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $result = $this-&amp;gt;receiveLink($postObj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;event&quot;&lt;/span&gt;:   &lt;span class=&quot;comment&quot;&gt;//事件消息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $result = $this-&amp;gt;receiveEvent($postObj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $result = &lt;span class=&quot;string&quot;&gt;&quot;unknow msg type: &quot;&lt;/span&gt;.$RX_TYPE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $result;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;后面还有很多接口，比如自定义菜单、微信支付、微信小店等，不过需要通过微信认证才能具有接口权限；而微信认证暂不支持个人类型的公众帐号申请微信认证。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160411_5.png&quot; alt=&quot;20160411_5&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;完整代码：&lt;/strong&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/ybbz/IT-Learning/blob/master/PHP/wechat/index.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信公众平台开发实践&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;今天中午去图书馆还书&amp;amp;&amp;amp;借书，偶然看到一本《微信公众平台开发最佳实践》，想着竟然这也有教材了？于是就借回来看了一下，拿自己的微信公众号（硬性植入：八宝粥）当小白鼠，实践了其中一部分。&lt;/p&gt;
&lt;p&gt;开发需要有自己的服务器，这本书上说的新浪SAE不错，于是我也
    
    </summary>
    
      <category term="PHP" scheme="http://blog.ybbz.site/categories/PHP/"/>
    
    
      <category term="PHP" scheme="http://blog.ybbz.site/tags/PHP/"/>
    
      <category term="WeChat" scheme="http://blog.ybbz.site/tags/WeChat/"/>
    
  </entry>
  
  <entry>
    <title>利用百度地图API定位</title>
    <link href="http://blog.ybbz.site/2016/04/08/map-practice/"/>
    <id>http://blog.ybbz.site/2016/04/08/map-practice/</id>
    <published>2016-04-07T16:00:00.000Z</published>
    <updated>2016-04-23T12:39:13.000Z</updated>
    
    <content type="html">&lt;p&gt;对于利用地图来定位展示这方面一直挺好奇的，之前倒是用过百度地图API，但也只是简单的利用地图生成器，给网站加一个地图地址。就像下面这样：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160408_1.png&quot; alt=&quot;20160408_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;今天便针对地图做了一番尝试，记录如下。&lt;/p&gt;
&lt;h3 id=&quot;微信地图&quot;&gt;&lt;a href=&quot;#微信地图&quot; class=&quot;headerlink&quot; title=&quot;微信地图&quot;&gt;&lt;/a&gt;微信地图&lt;/h3&gt;&lt;p&gt;大家应该都使用过微信的发送/共享位置功能，效果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160408_3.png&quot; alt=&quot;20160408_3&quot;&gt;&lt;/p&gt;
&lt;p&gt;现在很多公司都会依托微信公众号做开发，以期更好的展示或者直接利用公众号交易。而微信平台开发便涉及地图功能：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160408_2.png&quot; alt=&quot;20160408_2&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;百度地图API&quot;&gt;&lt;a href=&quot;#百度地图API&quot; class=&quot;headerlink&quot; title=&quot;百度地图API&quot;&gt;&lt;/a&gt;百度地图API&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160408_4.png&quot; alt=&quot;20160408_4&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;测试内容如下：&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&quot;使用百度地图API功能&quot;&gt;&lt;a href=&quot;#使用百度地图API功能&quot; class=&quot;headerlink&quot; title=&quot;使用百度地图API功能&quot;&gt;&lt;/a&gt;使用百度地图API功能&lt;/h4&gt;&lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 百度地图API功能&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;map&lt;/span&gt; = &lt;span class=&quot;literal&quot;&gt;new&lt;/span&gt; BMap.&lt;span class=&quot;built_in&quot;&gt;Map&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;allmap&quot;&lt;/span&gt;);    &lt;span class=&quot;comment&quot;&gt;// 创建Map实例&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; point = &lt;span class=&quot;literal&quot;&gt;new&lt;/span&gt; BMap.Point(&lt;span class=&quot;number&quot;&gt;116.3640600000&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;39.9961000000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;map&lt;/span&gt;.centerAndZoom(point, &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;);  &lt;span class=&quot;comment&quot;&gt;// 初始化地图,设置中心点坐标和地图级别&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;map&lt;/span&gt;.addControl(&lt;span class=&quot;literal&quot;&gt;new&lt;/span&gt; BMap.MapTypeControl());   &lt;span class=&quot;comment&quot;&gt;//添加地图类型控件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;map&lt;/span&gt;.setCurrentCity(&lt;span class=&quot;string&quot;&gt;&quot;北京&quot;&lt;/span&gt;);          &lt;span class=&quot;comment&quot;&gt;// 设置地图显示的城市&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;map&lt;/span&gt;.enableScrollWheelZoom(&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);     &lt;span class=&quot;comment&quot;&gt;//开启鼠标滚轮缩放&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;利用浏览器定位&quot;&gt;&lt;a href=&quot;#利用浏览器定位&quot; class=&quot;headerlink&quot; title=&quot;利用浏览器定位&quot;&gt;&lt;/a&gt;利用浏览器定位&lt;/h4&gt;&lt;p&gt;ps:其他还有IP/城市名/经纬度定位等&lt;/p&gt;
&lt;figure class=&quot;highlight actionscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//浏览器定位&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; geolocation = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BMap.Geolocation();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;geolocation.getCurrentPosition(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(r)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getStatus() == BMAP_STATUS_SUCCESS) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; mk = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BMap.Marker(r.point);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        map.addOverlay(mk);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        map.panTo(r.point);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//alert(&#39;您的位置：&#39; + r.point.lng + &#39;,&#39; + r.point.lat);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        alert(&lt;span class=&quot;string&quot;&gt;&#39;failed&#39;&lt;/span&gt; + &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getStatus());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;, &amp;#123;enableHighAccuracy: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;添加带有定位的导航控件&quot;&gt;&lt;a href=&quot;#添加带有定位的导航控件&quot; class=&quot;headerlink&quot; title=&quot;添加带有定位的导航控件&quot;&gt;&lt;/a&gt;添加带有定位的导航控件&lt;/h4&gt;&lt;figure class=&quot;highlight actionscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 添加带有定位的导航控件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; navigationControl = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BMap.NavigationControl(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 靠左上角位置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    anchor: BMAP_ANCHOR_TOP_LEFT,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// LARGE类型&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    type: BMAP_NAVIGATION_CONTROL_LARGE,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 启用显示定位&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    enableGeolocation: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;map.addControl(navigationControl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 添加定位控件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; geolocationControl = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BMap.GeolocationControl();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;geolocationControl.addEventListener(&lt;span class=&quot;string&quot;&gt;&quot;locationSuccess&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(e)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 定位成功事件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; address = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//address += e.addressComponent.province;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    address += e.addressComponent.city;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    address += e.addressComponent.district;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    address += e.addressComponent.street;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    address += e.addressComponent.streetNumber;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    alert(&lt;span class=&quot;string&quot;&gt;&quot;位置更新成功:&quot;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&quot;\n\r&quot;&lt;/span&gt; + address);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;geolocationControl.addEventListener(&lt;span class=&quot;string&quot;&gt;&quot;locationError&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(e)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 定位失败事件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    alert(e.message);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;map.addControl(geolocationControl);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;添加自定义控件&quot;&gt;&lt;a href=&quot;#添加自定义控件&quot; class=&quot;headerlink&quot; title=&quot;添加自定义控件&quot;&gt;&lt;/a&gt;添加自定义控件&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 定义一个控件类,即function&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ZoomControl&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 默认停靠位置和偏移量&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.defaultAnchor = BMAP_ANCHOR_BOTTOM_RIGHT;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.defaultOffset = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BMap.Size(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 通过JavaScript的prototype属性继承于BMap.Control&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ZoomControl.prototype = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BMap.Control();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 自定义控件必须实现自己的initialize方法,并且将控件的DOM元素返回&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 在本方法中创建个div元素作为控件的容器,并将其添加到地图容器中&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ZoomControl.prototype.initialize = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;map&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 创建一个DOM元素&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; div = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&quot;div&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 添加文字说明&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    div.innerHTML = &lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;p class=&#39;text&#39;&amp;gt;立即购买&amp;lt;/p&amp;gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//div.appendChild(document.createTextNode(&quot;立即下单&quot;));&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 设置样式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    div.className = &lt;span class=&quot;string&quot;&gt;&quot;btn&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 绑定事件,点击一次放大两级&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    div.onclick = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        alert(&lt;span class=&quot;string&quot;&gt;&quot;下单喽~&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 添加DOM元素到地图中&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    map.getContainer().appendChild(div);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 将DOM元素返回&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; div;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 创建控件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myZoomCtrl = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ZoomControl();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 添加到地图当中&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;map.addControl(myZoomCtrl);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;完整代码：&lt;/strong&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/ybbz/IT-Learning/blob/master/HTML/map.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;百度地图API测试&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;测试效果如下图所示：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160408_5.png&quot; alt=&quot;20160408_5&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;高德地图API&quot;&gt;&lt;a href=&quot;#高德地图API&quot; class=&quot;headerlink&quot; title=&quot;高德地图API&quot;&gt;&lt;/a&gt;高德地图API&lt;/h3&gt;&lt;p&gt;高德地图也提供类似的服务，从下图来看，和百度类似（高德地图我并没有测试）。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160408_6.png&quot; alt=&quot;20160408_6&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160408_7.png&quot; alt=&quot;20160408_7&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;对于利用地图来定位展示这方面一直挺好奇的，之前倒是用过百度地图API，但也只是简单的利用地图生成器，给网站加一个地图地址。就像下面这样：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160408_1.pn
    
    </summary>
    
      <category term="JavaScript" scheme="http://blog.ybbz.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://blog.ybbz.site/tags/JavaScript/"/>
    
      <category term="API" scheme="http://blog.ybbz.site/tags/API/"/>
    
  </entry>
  
  <entry>
    <title>Mac下(Pages+Papers+EndNote组合)论文写作与文献管理/引用</title>
    <link href="http://blog.ybbz.site/2016/04/06/MacBook-Pages-Papers-EndNote/"/>
    <id>http://blog.ybbz.site/2016/04/06/MacBook-Pages-Papers-EndNote/</id>
    <published>2016-04-05T16:00:00.000Z</published>
    <updated>2016-04-23T12:18:54.000Z</updated>
    
    <content type="html">&lt;p&gt;之前一直用Papers3进行文献管理，确实好用。最近要写论文，就想着能否用Papers3来引用文献，于是进行了一番探索，记录如下。&lt;/p&gt;
&lt;h3 id=&quot;相关配置&quot;&gt;&lt;a href=&quot;#相关配置&quot; class=&quot;headerlink&quot; title=&quot;相关配置&quot;&gt;&lt;/a&gt;相关配置&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;MacBook 10.9&lt;/li&gt;
&lt;li&gt;Pages 5.2&lt;/li&gt;
&lt;li&gt;Papers 3.3.3&lt;/li&gt;
&lt;li&gt;EndNote X7&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;Papers3添加引用&quot;&gt;&lt;a href=&quot;#Papers3添加引用&quot; class=&quot;headerlink&quot; title=&quot;Papers3添加引用&quot;&gt;&lt;/a&gt;Papers3添加引用&lt;/h3&gt;&lt;h4 id=&quot;1-开启引用（Papers-Preferences-Citations）&quot;&gt;&lt;a href=&quot;#1-开启引用（Papers-Preferences-Citations）&quot; class=&quot;headerlink&quot; title=&quot;1.开启引用（Papers-Preferences-Citations）&quot;&gt;&lt;/a&gt;1.开启引用（Papers-Preferences-Citations）&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160406_1.png&quot; alt=&quot;20160406_1&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;2-在文档中引用（在Pages文档中双击control键）&quot;&gt;&lt;a href=&quot;#2-在文档中引用（在Pages文档中双击control键）&quot; class=&quot;headerlink&quot; title=&quot;2.在文档中引用（在Pages文档中双击control键）&quot;&gt;&lt;/a&gt;2.在文档中引用（在Pages文档中双击control键）&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160406_2.png&quot; alt=&quot;20160406_2&quot;&gt;  &lt;/p&gt;
&lt;p&gt;一般来说，到这一步就可以引用成功了!&lt;br&gt;然而，上图提示“Cannot Insert Citation”，说是我的Pages版本不支持。&lt;br&gt;至于“Copy to Clipboard”这种功能，显然不是我想要的；于是就有了下面的步骤。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;注：使用Papers管理文献不在本文讨论范围内，读者自行探索～&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;EndNote添加引用&quot;&gt;&lt;a href=&quot;#EndNote添加引用&quot; class=&quot;headerlink&quot; title=&quot;EndNote添加引用&quot;&gt;&lt;/a&gt;EndNote添加引用&lt;/h3&gt;&lt;h4 id=&quot;1-Papers3导出（File-Export-Refman-RIS-File）&quot;&gt;&lt;a href=&quot;#1-Papers3导出（File-Export-Refman-RIS-File）&quot; class=&quot;headerlink&quot; title=&quot;1.Papers3导出（File-Export-Refman RIS File）&quot;&gt;&lt;/a&gt;1.Papers3导出（File-Export-Refman RIS File）&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160406_3.png&quot; alt=&quot;20160406_3&quot;&gt;  &lt;/p&gt;
&lt;h4 id=&quot;2-EndNote导入（File-Import-demo-ris）&quot;&gt;&lt;a href=&quot;#2-EndNote导入（File-Import-demo-ris）&quot; class=&quot;headerlink&quot; title=&quot;2.EndNote导入（File-Import-demo.ris）&quot;&gt;&lt;/a&gt;2.EndNote导入（File-Import-demo.ris）&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160406_4.png&quot; alt=&quot;20160406_4&quot;&gt;  &lt;/p&gt;
&lt;h3 id=&quot;Pages添加引用&quot;&gt;&lt;a href=&quot;#Pages添加引用&quot; class=&quot;headerlink&quot; title=&quot;Pages添加引用&quot;&gt;&lt;/a&gt;Pages添加引用&lt;/h3&gt;&lt;h4 id=&quot;1-安装EndNote插件&quot;&gt;&lt;a href=&quot;#1-安装EndNote插件&quot; class=&quot;headerlink&quot; title=&quot;1.安装EndNote插件&quot;&gt;&lt;/a&gt;1.安装EndNote插件&lt;/h4&gt;&lt;p&gt;插件下载地址：&lt;a href=&quot;https://support.apple.com/kb/DL1692?locale=en_US&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pages EndNote Plug-in v2.0&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;2-在文档中引用&quot;&gt;&lt;a href=&quot;#2-在文档中引用&quot; class=&quot;headerlink&quot; title=&quot;2.在文档中引用&quot;&gt;&lt;/a&gt;2.在文档中引用&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160406_5.png&quot; alt=&quot;20160406_5&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160406_6.png&quot; alt=&quot;20160406_6&quot;&gt;  &lt;/p&gt;
&lt;h3 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://support.mekentosj.com/kb/papers2/citations-in-pages-with-papers-2-for-mac&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Citations in Pages with Papers 2 for Mac&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.360doc.com/content/11/1231/18/7660968_176344103.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Mac科研神器【文献管理】Papers&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/21910307&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pages中插入Endnote引文是灰色的不可用状态&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/23138856&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;pages中如何修改/增加endnote引文格式&lt;/a&gt;  &lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;之前一直用Papers3进行文献管理，确实好用。最近要写论文，就想着能否用Papers3来引用文献，于是进行了一番探索，记录如下。&lt;/p&gt;
&lt;h3 id=&quot;相关配置&quot;&gt;&lt;a href=&quot;#相关配置&quot; class=&quot;headerlink&quot; title=&quot;相关配置&quot;&gt;&lt;/a&gt;相
    
    </summary>
    
      <category term="Tool" scheme="http://blog.ybbz.site/categories/Tool/"/>
    
    
      <category term="Mac" scheme="http://blog.ybbz.site/tags/Mac/"/>
    
      <category term="Pages" scheme="http://blog.ybbz.site/tags/Pages/"/>
    
      <category term="Papers" scheme="http://blog.ybbz.site/tags/Papers/"/>
    
      <category term="EndNote" scheme="http://blog.ybbz.site/tags/EndNote/"/>
    
  </entry>
  
  <entry>
    <title>Django学习笔记三：Django博客实战</title>
    <link href="http://blog.ybbz.site/2016/04/04/Django-foundation-three/"/>
    <id>http://blog.ybbz.site/2016/04/04/Django-foundation-three/</id>
    <published>2016-04-03T16:00:00.000Z</published>
    <updated>2016-04-23T12:41:19.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;MySQL配置&quot;&gt;&lt;a href=&quot;#MySQL配置&quot; class=&quot;headerlink&quot; title=&quot;MySQL配置&quot;&gt;&lt;/a&gt;MySQL配置&lt;/h3&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;pip3&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;PyMySQL&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;＃ 在__&lt;span class=&quot;selector-tag&quot;&gt;init__&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.py&lt;/span&gt;添加如下内容：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;pymysql&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;pymysql&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.install_as_MySQLdb&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;项目配置&quot;&gt;&lt;a href=&quot;#项目配置&quot; class=&quot;headerlink&quot; title=&quot;项目配置&quot;&gt;&lt;/a&gt;项目配置&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# settings.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;DATABASES = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;default&#39;&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;ENGINE&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;django.db.backends.mysql&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;NAME&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;blog&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;USER&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;username&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;PASSWORD&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;password&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;HOST&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;localhost&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;PORT&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;3306&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# models.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Blog&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(models.Model)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;title = models.CharField(max_length=&lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;category = models.CharField(max_length=&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, blank=&lt;span class=&quot;keyword&quot;&gt;True&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;create_time = models.CharField(max_length=&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;content = models.TextField(blank=&lt;span class=&quot;keyword&quot;&gt;True&lt;/span&gt;, null=&lt;span class=&quot;keyword&quot;&gt;True&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# views.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(request)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    posts = Blog.objects.all()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    paginator = Paginator(posts, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    page = request.GET.get(&lt;span class=&quot;string&quot;&gt;&#39;page&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        post_list = paginator.page(page)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt; PageNotAnInteger:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        post_list = paginator.page(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt; EmptyPage:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        post_list = paginator.paginator(paginator.num_pages)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; render(request, &lt;span class=&quot;string&quot;&gt;&#39;home2.html&#39;&lt;/span&gt;, &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;post_list&#39;&lt;/span&gt;: post_list&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#urls.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; app.views &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; home&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;urlpatterns = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              ......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              url(&lt;span class=&quot;string&quot;&gt;r&#39;^home$&#39;&lt;/span&gt;, home, name=&lt;span class=&quot;string&quot;&gt;&#39;home&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              ......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          ]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;效果图（待完善…）&quot;&gt;&lt;a href=&quot;#效果图（待完善…）&quot; class=&quot;headerlink&quot; title=&quot;效果图（待完善…）&quot;&gt;&lt;/a&gt;效果图（待完善…）&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160404_1.jpeg&quot; alt=&quot;20160404_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;Github仓库：&lt;a href=&quot;https://github.com/ybbz/django-blog&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;django-blog&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;MySQL配置&quot;&gt;&lt;a href=&quot;#MySQL配置&quot; class=&quot;headerlink&quot; title=&quot;MySQL配置&quot;&gt;&lt;/a&gt;MySQL配置&lt;/h3&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;g
    
    </summary>
    
      <category term="Python" scheme="http://blog.ybbz.site/categories/Python/"/>
    
    
      <category term="Python" scheme="http://blog.ybbz.site/tags/Python/"/>
    
      <category term="Django" scheme="http://blog.ybbz.site/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>Django学习笔记一：创建新App及其常用命令</title>
    <link href="http://blog.ybbz.site/2016/04/03/Django-foundation-one/"/>
    <id>http://blog.ybbz.site/2016/04/03/Django-foundation-one/</id>
    <published>2016-04-02T16:00:00.000Z</published>
    <updated>2016-04-23T12:44:25.000Z</updated>
    
    <content type="html">&lt;p&gt;清明节假期，正是读书、学习的好时候；别人都出去玩了，然而我仍然在“学习”。之前一直对Django很感兴趣（因为很多人提到了它，而我也有打算在未来用Python重构PHP做的系统），因此就学习了一下&lt;/p&gt;
&lt;h3 id=&quot;创建新的项目&quot;&gt;&lt;a href=&quot;#创建新的项目&quot; class=&quot;headerlink&quot; title=&quot;创建新的项目&quot;&gt;&lt;/a&gt;创建新的项目&lt;/h3&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;django-admin&lt;span class=&quot;selector-class&quot;&gt;.py&lt;/span&gt; startproject my_project&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;创建新的App&quot;&gt;&lt;a href=&quot;#创建新的App&quot; class=&quot;headerlink&quot; title=&quot;创建新的App&quot;&gt;&lt;/a&gt;创建新的App&lt;/h3&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 在Django项目(my_project)的根目录下执行&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;python3&lt;/span&gt; manage.py startapp my_app&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;启动Django中的开发服务器&quot;&gt;&lt;a href=&quot;#启动Django中的开发服务器&quot; class=&quot;headerlink&quot; title=&quot;启动Django中的开发服务器&quot;&gt;&lt;/a&gt;启动Django中的开发服务器&lt;/h3&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; migrations&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;python3&lt;/span&gt; manage.&lt;span class=&quot;keyword&quot;&gt;py&lt;/span&gt; makemigrations&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# apply &lt;span class=&quot;keyword&quot;&gt;all&lt;/span&gt; migrations&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;python3&lt;/span&gt; manage.&lt;span class=&quot;keyword&quot;&gt;py&lt;/span&gt; migrate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# run server&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;python3&lt;/span&gt; manage.&lt;span class=&quot;keyword&quot;&gt;py&lt;/span&gt; runserver&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;创建models&quot;&gt;&lt;a href=&quot;#创建models&quot; class=&quot;headerlink&quot; title=&quot;创建models&quot;&gt;&lt;/a&gt;创建models&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;App1&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(models.Model)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    title = models.CharField(max_length=&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    category = models.CharField(max_length=&lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;, blank=&lt;span class=&quot;keyword&quot;&gt;True&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    date_time = models.DateTimeField(auto_now_add=&lt;span class=&quot;keyword&quot;&gt;True&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;__unicode__&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self.title&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Meta&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ordering = [&lt;span class=&quot;string&quot;&gt;&#39;-date_time&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;进入Django中的交互式shell&quot;&gt;&lt;a href=&quot;#进入Django中的交互式shell&quot; class=&quot;headerlink&quot; title=&quot;进入Django中的交互式shell&quot;&gt;&lt;/a&gt;进入Django中的交互式shell&lt;/h3&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;python3&lt;/span&gt; manage.&lt;span class=&quot;keyword&quot;&gt;py&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;shell&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from app1.models import App1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# create(增加操作)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;App1.objects.create(title=&lt;span class=&quot;string&quot;&gt;&#39;title&#39;&lt;/span&gt;,category=&lt;span class=&quot;string&quot;&gt;&#39;category1&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;all&lt;/span&gt;和&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt;(查看操作)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;App1.objects.&lt;span class=&quot;keyword&quot;&gt;all&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;App1.objects.&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt;(id=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;(修改操作)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;demo = App1.objects.&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt;(id=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;demo.title&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;demo.title=&lt;span class=&quot;string&quot;&gt;&#39;title2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;delete&lt;/span&gt;(删除操作)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;demo.&lt;span class=&quot;keyword&quot;&gt;delete&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;创建一个超级用户&quot;&gt;&lt;a href=&quot;#创建一个超级用户&quot; class=&quot;headerlink&quot; title=&quot;创建一个超级用户&quot;&gt;&lt;/a&gt;创建一个超级用户&lt;/h3&gt;&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;python3 manage.py createsuperuser&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# 输入http:&lt;span class=&quot;comment&quot;&gt;//127.0.0.1:8000/admin登录后台&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;数据库信息的增加和删除，admin-py中增加代码&quot;&gt;&lt;a href=&quot;#数据库信息的增加和删除，admin-py中增加代码&quot; class=&quot;headerlink&quot; title=&quot;数据库信息的增加和删除，admin.py中增加代码&quot;&gt;&lt;/a&gt;数据库信息的增加和删除，admin.py中增加代码&lt;/h3&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;from &lt;span class=&quot;selector-tag&quot;&gt;article&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.models&lt;/span&gt; import App1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;admin&lt;span class=&quot;selector-class&quot;&gt;.site&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.register&lt;/span&gt;(App1)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Views和URL操作&quot;&gt;&lt;a href=&quot;#Views和URL操作&quot; class=&quot;headerlink&quot; title=&quot;Views和URL操作&quot;&gt;&lt;/a&gt;Views和URL操作&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# views.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; django.http &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; HttpResponse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(request)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; HttpResponse(&lt;span class=&quot;string&quot;&gt;&quot;Hello World, Django&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# urls.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;url(&lt;span class=&quot;string&quot;&gt;r&#39;^$&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;app1.views.home&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;URL传参&quot;&gt;&lt;a href=&quot;#URL传参&quot; class=&quot;headerlink&quot; title=&quot;URL传参&quot;&gt;&lt;/a&gt;URL传参&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# views.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;detail&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(request, number)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; HttpResponse(&lt;span class=&quot;string&quot;&gt;&quot;The number is %s.&quot;&lt;/span&gt; % number)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# urls.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;url(&lt;span class=&quot;string&quot;&gt;r&#39;^([0-9]+)/&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;app1.views.detail&#39;&lt;/span&gt;, name=&lt;span class=&quot;string&quot;&gt;&#39;detail&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;URL传参查询数据库&quot;&gt;&lt;a href=&quot;#URL传参查询数据库&quot; class=&quot;headerlink&quot; title=&quot;URL传参查询数据库&quot;&gt;&lt;/a&gt;URL传参查询数据库&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# views.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(request, args)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    post = App1.objects.all()[int(args)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    str = (&lt;span class=&quot;string&quot;&gt;&quot;title = %s, category = %s, date_time = %s&quot;&lt;/span&gt; % (post.title, post.category, post.date_time))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; HttpResponse(str)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# urls.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;url(&lt;span class=&quot;string&quot;&gt;r&#39;^id/([0-9])+/&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;article.views.database&#39;&lt;/span&gt;, name=&lt;span class=&quot;string&quot;&gt;&#39;database&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;将代码上传到Github&quot;&gt;&lt;a href=&quot;#将代码上传到Github&quot; class=&quot;headerlink&quot; title=&quot;将代码上传到Github&quot;&gt;&lt;/a&gt;将代码上传到Github&lt;/h3&gt;&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 在github中新建仓库django-blog&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 在项目根目录下执行&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git init&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote add Django&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git@github.com:ybbz/django-blog.git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git status&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git commit -m &lt;span class=&quot;string&quot;&gt;&quot;django blog init&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git pull Django &lt;span class=&quot;keyword&quot;&gt;master&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;&amp;amp;&amp;amp; git&lt;/span&gt; push Django &lt;span class=&quot;literal&quot;&gt;master&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Error-That-port-is-already-in-use&quot;&gt;&lt;a href=&quot;#Error-That-port-is-already-in-use&quot; class=&quot;headerlink&quot; title=&quot;Error: That port is already in use.&quot;&gt;&lt;/a&gt;Error: That port is already in use.&lt;/h3&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ps&lt;/span&gt; aux | &lt;span class=&quot;keyword&quot;&gt;grep&lt;/span&gt; -i manage&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;kill -&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt; ****&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;python3&lt;/span&gt; manage.&lt;span class=&quot;keyword&quot;&gt;py&lt;/span&gt; runserver&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;清明节假期，正是读书、学习的好时候；别人都出去玩了，然而我仍然在“学习”。之前一直对Django很感兴趣（因为很多人提到了它，而我也有打算在未来用Python重构PHP做的系统），因此就学习了一下&lt;/p&gt;
&lt;h3 id=&quot;创建新的项目&quot;&gt;&lt;a href=&quot;#创建新的项目&quot; 
    
    </summary>
    
      <category term="Python" scheme="http://blog.ybbz.site/categories/Python/"/>
    
    
      <category term="Python" scheme="http://blog.ybbz.site/tags/Python/"/>
    
      <category term="Django" scheme="http://blog.ybbz.site/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>Django学习笔记二：优化博客展示，抓取博文并保存到数据库</title>
    <link href="http://blog.ybbz.site/2016/04/03/Django-foundation-two/"/>
    <id>http://blog.ybbz.site/2016/04/03/Django-foundation-two/</id>
    <published>2016-04-02T16:00:00.000Z</published>
    <updated>2016-04-23T12:41:56.000Z</updated>
    
    <content type="html">&lt;p&gt;自从去年年底开始，走上了Jekyll+Github+Markdown这条不归路，先是把CSDN上面的一些博客迁移过来，然后就是经常写一些自己在平时学习、开发过程中的心得体会，不见得有人看。权当技术总结，外加练习写作表达了。&lt;/p&gt;
&lt;p&gt;这种简洁优雅的表达方式，简直让人沉醉。不禁回想上大学（本科）时，也曾折腾了一段时间Wordpress，当时也写了一些内容、交了一些博友，可总有一种无病呻吟的感觉，后来不想写了，也没给服务器续费，就没了。之后，就是偶尔在CSDN上面做一些总结；可也没有很认真的对待。再后来，看了一些类似“我为什么要写博客”这样的文章，觉得说的很有道理，醍醐灌顶。于是，就在这儿安了家。我的朋友圈子里，几乎没有人写博客；虽然“孤单”，我却乐在其中。有时兴致来了，还把自己觉得不错的博文，在新建的公众号推送一下。&lt;/p&gt;
&lt;p&gt;我在Github上fork的这个博客模版，文章有categories和tags这两个属性，可是页面展示出来的，只有tags，而categories却没有做展示。那么，问题来了！文章是需要有一个分类的，而一个文章却可能有多个标签。就想着，能不能加一个分类页面，更好的为文章分类。于是，就开始看模版的代码。据说Jekyll使用的是Ruby，我对Ruby完全不了解，但是不同语言之间是有规律可循的，这不，我就发现了规律：tags页面使用“for tag in site.tags”对标签进行遍历，于是我试了一下“for category in site.categories”，对分类进行遍历然后就通了。&lt;/p&gt;
&lt;p&gt;这样，事情就好办了。在Tags.md同级目录（即网站根目录）新建Categories.md,把tags替换成categories，代码如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160402_1.jpeg&quot; alt=&quot;20160402_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;剩下的问题就是，分类页面和标签页面的样式完全一样，于是便有了下面的想法，打算做出来看看效果如何。&lt;/p&gt;
&lt;p&gt;大概思路是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;从Categories页面抓取博客的所有分类，以及每个分类下的文章（时间和标题）&lt;/li&gt;
&lt;li&gt;将抓取到的内容保存到数据库中（新建blog数据库及表，字段title、create_time、content等）&lt;/li&gt;
&lt;li&gt;从数据库中查询博客信息并做展示（此篇咱不分析，如有兴趣请关注本博客后续的文章）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight nix&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;from urllib.request &lt;span class=&quot;built_in&quot;&gt;import&lt;/span&gt; urlopen&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from bs4 &lt;span class=&quot;built_in&quot;&gt;import&lt;/span&gt; BeautifulSoup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;import&lt;/span&gt; mysql.connector&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;url&lt;/span&gt; = &#39;http://blog.ybbz.site/Categories/&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;html&lt;/span&gt; = urlopen(url)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;bsObj&lt;/span&gt; = BeautifulSoup(html, &#39;lxml&#39;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;uls&lt;/span&gt; = bsObj.findAll(&#39;ul&#39;, &amp;#123;&#39;class&#39;: &#39;listing&#39;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;cate_list&lt;/span&gt; = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for ul &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; uls:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;cate&lt;/span&gt; = ul.h4.string&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for li &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; ul.findAll(&#39;li&#39;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cate_list.append((str(cate), str(li.time.string), str(li.a.string)))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(cate_list)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;host&lt;/span&gt; = &#39;your hostname&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;user&lt;/span&gt; = &#39;your username&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;passwd&lt;/span&gt; = &#39;your password&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;db&lt;/span&gt; = &#39;your database&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# connect database&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;conn&lt;/span&gt; = mysql.connector.connect(&lt;span class=&quot;attr&quot;&gt;host=host,&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;user=user,&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;passwd=passwd,&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;db=db)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;cursor&lt;/span&gt; = conn.cursor()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# save blogs&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;sql&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;insert into blog(category,create_time,title) values(%s, %s, %s)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cursor.executemany(sql, cate_list)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;conn.commit()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;自从去年年底开始，走上了Jekyll+Github+Markdown这条不归路，先是把CSDN上面的一些博客迁移过来，然后就是经常写一些自己在平时学习、开发过程中的心得体会，不见得有人看。权当技术总结，外加练习写作表达了。&lt;/p&gt;
&lt;p&gt;这种简洁优雅的表达方式，简直让人沉醉
    
    </summary>
    
      <category term="Python" scheme="http://blog.ybbz.site/categories/Python/"/>
    
    
      <category term="Python" scheme="http://blog.ybbz.site/tags/Python/"/>
    
      <category term="Crawler" scheme="http://blog.ybbz.site/tags/Crawler/"/>
    
      <category term="Django" scheme="http://blog.ybbz.site/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>读书笔记:《机器学习实践:测试驱动的开发方法》</title>
    <link href="http://blog.ybbz.site/2016/04/01/machine-learning-notes/"/>
    <id>http://blog.ybbz.site/2016/04/01/machine-learning-notes/</id>
    <published>2016-03-31T16:00:00.000Z</published>
    <updated>2016-04-23T12:44:56.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;《机器学习实践:测试驱动的开发方法》&lt;/strong&gt;（Thoughtful Machine Learning:A Test-Driven Approach），在图书馆看到了这本书，当时浏览了目录，觉得挺中意的，就借回来了。然而看了前言之后，我就对这本书不抱有太大的希望了，原因无他，作者用的是Ruby而非Python。我对自己的定位只是Python入门、任重而道远，因此并不打算跳入Ruby的“火坑”。&lt;/p&gt;
&lt;p&gt;可是这并不妨碍我阅读这本书，毕竟，机器学习的算法思想都是相通的，并不妨碍我去学习。下面，简单记录一下看这本书时候的一些体会。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;测试驱动开发&lt;/strong&gt;（Test-Driven Development，TDD）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用测试来驱动开发。强调“测试先行”，而非在开发周期的最后才考虑测试。&lt;/li&gt;
&lt;li&gt;步骤：先编写一个无法通过的测试，然后编写可使其通过的功能代码，最后重构初始代码。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;机器学习概述&quot;&gt;&lt;a href=&quot;#机器学习概述&quot; class=&quot;headerlink&quot; title=&quot;机器学习概述&quot;&gt;&lt;/a&gt;机器学习概述&lt;/h2&gt;&lt;h4 id=&quot;什么是机器学习&quot;&gt;&lt;a href=&quot;#什么是机器学习&quot; class=&quot;headerlink&quot; title=&quot;什么是机器学习&quot;&gt;&lt;/a&gt;什么是机器学习&lt;/h4&gt;&lt;p&gt;机器学习是具有坚实理论基础的计算机科学和含噪声的真是数据的交集。本质上，机器学习是一门关于如何使机器像人类那样去理解数据的科学。&lt;/p&gt;
&lt;h4 id=&quot;机器学习问题&quot;&gt;&lt;a href=&quot;#机器学习问题&quot; class=&quot;headerlink&quot; title=&quot;机器学习问题&quot;&gt;&lt;/a&gt;机器学习问题&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;问题&lt;/th&gt;
&lt;th&gt;机器学习类型&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;将数据拟合为某个函数或函数逼近&lt;/td&gt;
&lt;td&gt;有监督学习&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;在无反馈条件下对数据进行推断&lt;/td&gt;
&lt;td&gt;无监督学习&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;进行有奖励和回报的比赛或游戏&lt;/td&gt;
&lt;td&gt;强化学习&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;机器学习算法矩阵&quot;&gt;&lt;a href=&quot;#机器学习算法矩阵&quot; class=&quot;headerlink&quot; title=&quot;机器学习算法矩阵&quot;&gt;&lt;/a&gt;机器学习算法矩阵&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;算法&lt;/th&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;类&lt;/th&gt;
&lt;th&gt;限制条件&lt;/th&gt;
&lt;th&gt;适用场合&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;K近邻（KNN）&lt;/td&gt;
&lt;td&gt;有监督学习&lt;/td&gt;
&lt;td&gt;基于实例的&lt;/td&gt;
&lt;td&gt;一般来说，kNN擅长度量基于距离的逼近，但易受维数灾难的影响&lt;/td&gt;
&lt;td&gt;适合解决基于距离的问题&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;朴素贝叶斯分类（NB）&lt;/td&gt;
&lt;td&gt;有监督学习&lt;/td&gt;
&lt;td&gt;概率的&lt;/td&gt;
&lt;td&gt;要求所给问题中，各输入相互独立&lt;/td&gt;
&lt;td&gt;适用于问题域中各类的概率均大于0的情形&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;隐马尔可夫模型（HMM）&lt;/td&gt;
&lt;td&gt;有/无监督学习&lt;/td&gt;
&lt;td&gt;马尔可夫的&lt;/td&gt;
&lt;td&gt;要求系统信息满足马尔科夫假设&lt;/td&gt;
&lt;td&gt;适用于时间序列数据和无记忆的信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;支持向量机（SVM）&lt;/td&gt;
&lt;td&gt;有监督学习&lt;/td&gt;
&lt;td&gt;决策面&lt;/td&gt;
&lt;td&gt;要求待分类的两个类别有明确的差别&lt;/td&gt;
&lt;td&gt;适用于求解两类分类问题&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;神经网络（NN）&lt;/td&gt;
&lt;td&gt;有监督学习&lt;/td&gt;
&lt;td&gt;非线性函数逼近&lt;/td&gt;
&lt;td&gt;几乎没有限制条件&lt;/td&gt;
&lt;td&gt;适用于二值输入&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;聚类&lt;/td&gt;
&lt;td&gt;无监督学习&lt;/td&gt;
&lt;td&gt;聚类&lt;/td&gt;
&lt;td&gt;无限制&lt;/td&gt;
&lt;td&gt;适用于当给定某种形式的距离度量（如欧式距离、曼哈顿距离等）时，能表现出明确分组特性的数据&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;（核）岭回归&lt;/td&gt;
&lt;td&gt;有监督学习&lt;/td&gt;
&lt;td&gt;回归&lt;/td&gt;
&lt;td&gt;限制很少&lt;/td&gt;
&lt;td&gt;适用于变量连续的情形&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;滤波&lt;/td&gt;
&lt;td&gt;无监督学习&lt;/td&gt;
&lt;td&gt;特征变换&lt;/td&gt;
&lt;td&gt;无限制&lt;/td&gt;
&lt;td&gt;适用于有大量变量需要过滤的数据&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;K近邻分类&quot;&gt;&lt;a href=&quot;#K近邻分类&quot; class=&quot;headerlink&quot; title=&quot;K近邻分类&quot;&gt;&lt;/a&gt;K近邻分类&lt;/h2&gt;&lt;p&gt;kNN算法简介：一种基于实例的有监督学习方法，尤其适用于对距离敏感的数据。易受“维数灾难”的影响。&lt;/p&gt;
&lt;h4 id=&quot;如何选择K&quot;&gt;&lt;a href=&quot;#如何选择K&quot; class=&quot;headerlink&quot; title=&quot;如何选择K&quot;&gt;&lt;/a&gt;如何选择K&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;猜测&lt;/li&gt;
&lt;li&gt;使用启发式策略&lt;/li&gt;
&lt;li&gt;通过算法优化&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;选择K的启发式策略&quot;&gt;&lt;a href=&quot;#选择K的启发式策略&quot; class=&quot;headerlink&quot; title=&quot;选择K的启发式策略&quot;&gt;&lt;/a&gt;选择K的启发式策略&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;当分类问题中只涉及两个类别时，不要将K取为偶数&lt;/li&gt;
&lt;li&gt;K的值应不小于类别总数加1&lt;/li&gt;
&lt;li&gt;为避免出现噪声，K的值应足够小&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;降维： &lt;strong&gt;SIFT、SURF算法&lt;/strong&gt;&lt;br&gt;机器学习中使用频率极高的三个术语：&lt;strong&gt;特征、纬度和实例&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&quot;余弦相似度&quot;&gt;&lt;a href=&quot;#余弦相似度&quot; class=&quot;headerlink&quot; title=&quot;余弦相似度&quot;&gt;&lt;/a&gt;余弦相似度&lt;/h4&gt;&lt;p&gt;这是确定两个对象之间接近程度的一种良好方式。采取的准则并不是看数据是否100%相等，而是看两个向量是否足够接近。对于比较两不同向量之间是否相似，余弦相似度是一种非常有用的测度。它实际上度量的是这两个向量之间的夹角，而非长度上的差异。&lt;/p&gt;
&lt;h2 id=&quot;朴素贝叶斯分类&quot;&gt;&lt;a href=&quot;#朴素贝叶斯分类&quot; class=&quot;headerlink&quot; title=&quot;朴素贝叶斯分类&quot;&gt;&lt;/a&gt;朴素贝叶斯分类&lt;/h2&gt;&lt;p&gt;一种有监督的概率学习方法，对于数据集中输入相互独立的场合，朴素贝叶斯分类器能够展现出良好的性能。此外，它也更适合解决那些任何属性的概率均大于零的问题。&lt;/p&gt;
&lt;h4 id=&quot;条件概率&quot;&gt;&lt;a href=&quot;#条件概率&quot; class=&quot;headerlink&quot; title=&quot;条件概率&quot;&gt;&lt;/a&gt;条件概率&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;# B发生后A发生的概率等于A和B同时发生的概率除以B发生的概率
P(A|B)=P(AB)/P(B)
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;贝叶斯定理&quot;&gt;&lt;a href=&quot;#贝叶斯定理&quot; class=&quot;headerlink&quot; title=&quot;贝叶斯定理&quot;&gt;&lt;/a&gt;贝叶斯定理&lt;/h4&gt;&lt;p&gt;P(B|A)=P(A|B)P(B)/P(A)&lt;/p&gt;
&lt;h4 id=&quot;朴素贝叶斯分类器&quot;&gt;&lt;a href=&quot;#朴素贝叶斯分类器&quot; class=&quot;headerlink&quot; title=&quot;朴素贝叶斯分类器&quot;&gt;&lt;/a&gt;朴素贝叶斯分类器&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;# 联合概率:所有事件均发生的概率（链式法则）
P(A1,A2,…,An)=P(A1)P(A2|A1)P(A3|A1,A2)…P(An|A1,A2,…,An-1)
P(A1,A2,A3)=P(A1)P(A2|A1)P(A3|A1,A2)=P(A1,A2)P(A3|A1,A2)
# 从朴素的观点出发
P(A1,A2,A3)=P(A1)P(A2|A1)P(A3|A1)
P(A3|A1,A2)=P(A1,A2|A3)P(A3)/P(A1,A2)=P(A1,A2,A3)/P(A1,A2)=P(A3)P(A1|A3)P(A2|A3)/P(A1,A2)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;样本容量不足：&lt;strong&gt;伪计数&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;由于为得到分类结果，朴素贝叶斯分类器需要将所有条件独立的概率相乘，因此一旦这些概率之中有一项为0，则总概率也将为0。&lt;/em&gt;&lt;br&gt;&lt;em&gt;在计算概率是，我们为单词的出现次数加上1，即所有单词的出现次数均记为word_count+1。有助于缓解归零效应的影响。&lt;/em&gt;&lt;br&gt;&lt;em&gt;适用于数据相互独立的场景，对于欺诈检测、垃圾邮件过滤以及其他拥有这些特征的问题都很适用。&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;隐马尔科夫模型&quot;&gt;&lt;a href=&quot;#隐马尔科夫模型&quot; class=&quot;headerlink&quot; title=&quot;隐马尔科夫模型&quot;&gt;&lt;/a&gt;隐马尔科夫模型&lt;/h2&gt;&lt;h2 id=&quot;支持向量机&quot;&gt;&lt;a href=&quot;#支持向量机&quot; class=&quot;headerlink&quot; title=&quot;支持向量机&quot;&gt;&lt;/a&gt;支持向量机&lt;/h2&gt;&lt;h2 id=&quot;神经网络&quot;&gt;&lt;a href=&quot;#神经网络&quot; class=&quot;headerlink&quot; title=&quot;神经网络&quot;&gt;&lt;/a&gt;神经网络&lt;/h2&gt;&lt;h2 id=&quot;聚类&quot;&gt;&lt;a href=&quot;#聚类&quot; class=&quot;headerlink&quot; title=&quot;聚类&quot;&gt;&lt;/a&gt;聚类&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;聚类算法是一种无监督学习问题，在数据分组方面有突出的表现。在实际运用中，会受到不可能定理的制约。&lt;/li&gt;
&lt;li&gt;分类：找出最优的函数逼近，以将数据分配到某个数据集和标签。聚类：更关心数据本身，而非标签。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;常用的聚类算法&quot;&gt;&lt;a href=&quot;#常用的聚类算法&quot; class=&quot;headerlink&quot; title=&quot;常用的聚类算法&quot;&gt;&lt;/a&gt;常用的聚类算法&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;K均值聚类算法&lt;/li&gt;
&lt;li&gt;期望最大化（Expectation Maximization,EM）聚类算法&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;K均值聚类&quot;&gt;&lt;a href=&quot;#K均值聚类&quot; class=&quot;headerlink&quot; title=&quot;K均值聚类&quot;&gt;&lt;/a&gt;K均值聚类&lt;/h3&gt;&lt;p&gt;利用一个预定义的K值，即希望将数据划分为簇的数目，K均值聚类算法可找到各簇的最优质心。K均值聚类的最佳特质是各簇在本质上呈紧致的球状分布，且总会收敛到某个解。&lt;/p&gt;
&lt;h4 id=&quot;K均值算法工作原理&quot;&gt;&lt;a href=&quot;#K均值算法工作原理&quot; class=&quot;headerlink&quot; title=&quot;K均值算法工作原理&quot;&gt;&lt;/a&gt;K均值算法工作原理&lt;/h4&gt;&lt;p&gt;K均值算法首先从某个基本配置开始。该算法随机从数据集中选择K个数据点，并将其定义为各簇的质心。接着，将数据集 中的每个点分配到与每个不同的质心距离最近的那个簇中。这样，我们便得到了一个由初始随机质心确定的聚类结果。但这显然不是我们想要的结果，因此我们重新计算各簇的均值来更新质心。然后，我们重复上述过程，直到质心的位置不再发生变动为止。&lt;/p&gt;
&lt;h4 id=&quot;K均值缺陷&quot;&gt;&lt;a href=&quot;#K均值缺陷&quot; class=&quot;headerlink&quot; title=&quot;K均值缺陷&quot;&gt;&lt;/a&gt;K均值缺陷&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;各簇之间必须存在一个“硬”边界。这意味着每个数据点只能属于一个簇，无法跨越两个簇之间的界限。&lt;/li&gt;
&lt;li&gt;适合于呈球状分布的数据。（欧式距离）&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;EM聚类算法&quot;&gt;&lt;a href=&quot;#EM聚类算法&quot; class=&quot;headerlink&quot; title=&quot;EM聚类算法&quot;&gt;&lt;/a&gt;EM聚类算法&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;K均值：找到一个质心，找到与其相关的数据点；确定各簇之间的边界。&lt;/li&gt;
&lt;li&gt;EM：获得一个数据点属于各簇的概率值，而非分配结果；适用于对不存在明确边界的数据进行分类。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;EM算法步骤&quot;&gt;&lt;a href=&quot;#EM算法步骤&quot; class=&quot;headerlink&quot; title=&quot;EM算法步骤&quot;&gt;&lt;/a&gt;EM算法步骤&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;计算期望&lt;/li&gt;
&lt;li&gt;将期望最大化&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;不可能性定理&quot;&gt;&lt;a href=&quot;#不可能性定理&quot; class=&quot;headerlink&quot; title=&quot;不可能性定理&quot;&gt;&lt;/a&gt;不可能性定理&lt;/h4&gt;&lt;p&gt;丰富性、尺度不变性、一致性（最多只能获得三种属性中的两种）&lt;/p&gt;
&lt;h2 id=&quot;核岭回归&quot;&gt;&lt;a href=&quot;#核岭回归&quot; class=&quot;headerlink&quot; title=&quot;核岭回归&quot;&gt;&lt;/a&gt;核岭回归&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;回归：从将X映射为Y的数据中拟合出一条直线。有监督的学习算法。对于能够求解的问题限制极少，更擅长使用连续变量。能够对数据进行平滑并移除离群点。&lt;/li&gt;
&lt;li&gt;线性回归：给定一个数据集，拟合出逼近这些数据的最优直线。（例如依据身高预测体重）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;协同过滤&quot;&gt;&lt;a href=&quot;#协同过滤&quot; class=&quot;headerlink&quot; title=&quot;协同过滤&quot;&gt;&lt;/a&gt;协同过滤&lt;/h3&gt;&lt;p&gt;与其他用户关联的方式。&lt;em&gt;例：你喜欢喝啤酒，那你也可能喜欢杯子、杯垫等。即便你没有实际购买过这些物品，但由于与你类似的其他用户（也喜欢喝啤酒）购买了他们，因此你也很可能喜欢他们。&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&quot;协同过滤算法&quot;&gt;&lt;a href=&quot;#协同过滤算法&quot; class=&quot;headerlink&quot; title=&quot;协同过滤算法&quot;&gt;&lt;/a&gt;协同过滤算法&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;找到那些与你有相同爱好的用户&lt;/li&gt;
&lt;li&gt;利用来自其他相似用户的评分来进行推荐&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;解决上述问题&quot;&gt;&lt;a href=&quot;#解决上述问题&quot; class=&quot;headerlink&quot; title=&quot;解决上述问题&quot;&gt;&lt;/a&gt;解决上述问题&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;暴力法&lt;/li&gt;
&lt;li&gt;K近邻搜索&lt;/li&gt;
&lt;li&gt;回归&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;核技巧&quot;&gt;&lt;a href=&quot;#核技巧&quot; class=&quot;headerlink&quot; title=&quot;核技巧&quot;&gt;&lt;/a&gt;核技巧&lt;/h4&gt;&lt;p&gt;核技巧可以将非线性数据变换到一个新的特征空间，使其成为线性数据。核技巧是非常强大的工具，非常适用于求解数据非线性的问题。&lt;/p&gt;
&lt;h2 id=&quot;模型改进与数据提取&quot;&gt;&lt;a href=&quot;#模型改进与数据提取&quot; class=&quot;headerlink&quot; title=&quot;模型改进与数据提取&quot;&gt;&lt;/a&gt;模型改进与数据提取&lt;/h2&gt;&lt;h4 id=&quot;维数灾难&quot;&gt;&lt;a href=&quot;#维数灾难&quot; class=&quot;headerlink&quot; title=&quot;维数灾难&quot;&gt;&lt;/a&gt;维数灾难&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;避免维数灾难的途径：降维&lt;/li&gt;
&lt;li&gt;克服维数灾难：特征选择、特征变换&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;特征变换算法：&quot;&gt;&lt;a href=&quot;#特征变换算法：&quot; class=&quot;headerlink&quot; title=&quot;特征变换算法：&quot;&gt;&lt;/a&gt;特征变换算法：&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;主分量分析（Principle Component Analysis，PCA）&lt;/li&gt;
&lt;li&gt;独立分量分析（Independent Component Analysis，ICA）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To be continued !&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Thoughtful Machine Learning by Matthew Kirk (O’Reilly).&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;《机器学习实践:测试驱动的开发方法》&lt;/strong&gt;（Thoughtful Machine Learning:A Test-Driven Approach），在图书馆看到了这本书，当时浏览了目录，觉得挺中意的，就借回来了。然而看了前言之后，我就对这本书不抱
    
    </summary>
    
      <category term="Machine Learning" scheme="http://blog.ybbz.site/categories/Machine-Learning/"/>
    
    
      <category term="Machine-Learning" scheme="http://blog.ybbz.site/tags/Machine-Learning/"/>
    
  </entry>
  
  <entry>
    <title>一道算法题</title>
    <link href="http://blog.ybbz.site/2016/03/29/algorithm/"/>
    <id>http://blog.ybbz.site/2016/03/29/algorithm/</id>
    <published>2016-03-28T16:00:00.000Z</published>
    <updated>2016-04-23T12:54:08.000Z</updated>
    
    <content type="html">&lt;p&gt;题目如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;已知list1 = [20, 6, 15, 53, 47],已经排好序&lt;/li&gt;
&lt;li&gt;已知list2 = [(6, ‘John’, ‘20’), (15, ‘Kim’, ‘18’),(20, ‘David’, ‘21’), (47, ‘Amy’, ‘23’), (53, ‘Mary’, ‘20’)]&lt;/li&gt;
&lt;li&gt;把list2按照list1中的顺序重新排序，并把排序结果封装成json字符串，得到list3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight vala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;list1 = [&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;53&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;47&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list2 = [(&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;John&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;20&#39;&lt;/span&gt;), (&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Kim&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;18&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         (&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;David&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;21&#39;&lt;/span&gt;), (&lt;span class=&quot;number&quot;&gt;47&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Amy&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;23&#39;&lt;/span&gt;), (&lt;span class=&quot;number&quot;&gt;53&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Mary&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;20&#39;&lt;/span&gt;)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(list1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(list2)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list3 = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# count = len(list1)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# for i in range(0, count):&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     dict = &amp;#123;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     id = list1[i]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     dict[&#39;id&#39;] = id&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     j = 0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     while j &amp;lt; count and list2[j][0] != id:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#         j += 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     dict[&#39;name&#39;] = list2[j][1]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     dict[&#39;age&#39;] = list2[j][2]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     list3.append(dict)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# list2_dict = &amp;#123;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# for item2 in list2:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     list2_dict[item2[0]] = (item2[1], item2[2])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# for item1 in list1:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     dict = &amp;#123;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     dict[&#39;id&#39;] = item1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     dict[&#39;name&#39;] = list2_dict[item1][0]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     dict[&#39;age&#39;] = list2_dict[item1][1]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#     list3.append(dict)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list2_dict = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; item2 in list2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    list2_dict[item2[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]] = &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;: item2[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;string&quot;&gt;&#39;age&#39;&lt;/span&gt;: item2[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; item1 in list1:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dict = list2_dict[item1]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dict[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;] = item1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    list3.append(dict)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(list3)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;^_^ 感谢我的本科室友~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;题目如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;已知list1 = [20, 6, 15, 53, 47],已经排好序&lt;/li&gt;
&lt;li&gt;已知list2 = [(6, ‘John’, ‘20’), (15, ‘Kim’, ‘18’),(20, ‘David’, ‘21’), (47,
    
    </summary>
    
      <category term="Algorithm" scheme="http://blog.ybbz.site/categories/Algorithm/"/>
    
    
      <category term="Python" scheme="http://blog.ybbz.site/tags/Python/"/>
    
      <category term="Algorithm" scheme="http://blog.ybbz.site/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>Ajax跨域访问Flask构建的Python Web服务器</title>
    <link href="http://blog.ybbz.site/2016/03/29/Ajax-Flask-Python-Web-Server/"/>
    <id>http://blog.ybbz.site/2016/03/29/Ajax-Flask-Python-Web-Server/</id>
    <published>2016-03-28T16:00:00.000Z</published>
    <updated>2016-04-23T12:55:43.000Z</updated>
    
    <content type="html">&lt;p&gt;看到标题，你可能会觉得博主比较奇葩，为什么要把事情搞得这么复杂？其实博主也不想这样，只是去年已经用PHP搭建好了系统，而且功能、UI等也基本调试的差不多了；现在要借助Python强大而方便的数据分析功能来分析数据，最简单直接的也就是这么做了。或许之后，会考虑用Django等来重构整个系统，但这并不是现在的重点。&lt;/p&gt;
&lt;h3 id=&quot;利用Ajax跨域访问Flask服务器&quot;&gt;&lt;a href=&quot;#利用Ajax跨域访问Flask服务器&quot; class=&quot;headerlink&quot; title=&quot;利用Ajax跨域访问Flask服务器&quot;&gt;&lt;/a&gt;利用Ajax跨域访问Flask服务器&lt;/h3&gt;&lt;p&gt;Web前端通过Ajax请求Flask服务器的接口：&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;javascript&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    $(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).ready(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        $(&lt;span class=&quot;string&quot;&gt;&quot;#click_demo&quot;&lt;/span&gt;).click(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//http request&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            $.post(&lt;span class=&quot;string&quot;&gt;&quot;http://127.0.0.1:8080/demo&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               name:$(&lt;span class=&quot;string&quot;&gt;&quot;#param&quot;&lt;/span&gt;).text(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data,status&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;//alert(&quot;status：&quot; + status + &quot;\ndata：&quot; + data);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myobj=&lt;span class=&quot;built_in&quot;&gt;eval&lt;/span&gt;(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; result=&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;i &amp;lt; myobj.length;i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; item=&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;p&amp;gt;&#39;&lt;/span&gt;+myobj[i].name+&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;/p&amp;gt;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    result=result+item;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $(&lt;span class=&quot;string&quot;&gt;&quot;#result-element&quot;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].innerHTML=result;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                $(&lt;span class=&quot;string&quot;&gt;&quot;#result-element&quot;&lt;/span&gt;).show();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Ajax跨域请求的时候可以在服务端设置header信息，来达到跨域请求的目的（不需要通过jsonp的方式设置ajax参数）：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Response.AddHeader(&amp;quot;Access-Control-Allow-Origin&amp;quot;, &amp;quot;*&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Flask服务器端代码如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@app.route(&amp;apos;/demo&amp;apos;, methods=[&amp;apos;POST&amp;apos;])
def home():
    result_json = json.dumps(result)
    # Response
    resp = Response(result_json)
    resp.headers[&amp;apos;Access-Control-Allow-Origin&amp;apos;] = &amp;apos;*&amp;apos;
    return resp
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;Python操作Json&quot;&gt;&lt;a href=&quot;#Python操作Json&quot; class=&quot;headerlink&quot; title=&quot;Python操作Json&quot;&gt;&lt;/a&gt;Python操作Json&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;JSON (JavaScript Object Notation), specified by RFC 7159 (which obsoletes RFC 4627) and by ECMA-404, is a lightweight data interchange format inspired by JavaScript object literal syntax (although it is not a strict subset of JavaScript).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;import json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list1 = [&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;53&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;47&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list2 = [(&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;John&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;20&#39;&lt;/span&gt;), (&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;David&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;21&#39;&lt;/span&gt;), (&lt;span class=&quot;number&quot;&gt;47&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Amy&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;23&#39;&lt;/span&gt;), (&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Kim&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;18&#39;&lt;/span&gt;), (&lt;span class=&quot;number&quot;&gt;53&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Mary&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;20&#39;&lt;/span&gt;)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list3 = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; list2:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dict = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dict[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;] = &lt;span class=&quot;selector-tag&quot;&gt;a&lt;/span&gt;[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dict[&lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;] = &lt;span class=&quot;selector-tag&quot;&gt;a&lt;/span&gt;[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dict[&lt;span class=&quot;string&quot;&gt;&#39;age&#39;&lt;/span&gt;] = &lt;span class=&quot;selector-tag&quot;&gt;a&lt;/span&gt;[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    list3.append(dict)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;result = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;result[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;] = list1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;result[&lt;span class=&quot;string&quot;&gt;&#39;data&#39;&lt;/span&gt;] = list3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;json1 = json.dumps(list1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;json2 = json.dumps(list2)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;json3 = json.dumps(list3)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;json4 = json.dumps(result)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(json1)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(json2)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(json3)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(json4)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;decode = json.loads(json4)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(decode)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;JS解析Json数据&quot;&gt;&lt;a href=&quot;#JS解析Json数据&quot; class=&quot;headerlink&quot; title=&quot;JS解析Json数据&quot;&gt;&lt;/a&gt;JS解析Json数据&lt;/h3&gt;&lt;figure class=&quot;highlight scilab&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;SCRIPT LANGUAGE=&lt;span class=&quot;string&quot;&gt;&quot;JavaScript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var t=&lt;span class=&quot;string&quot;&gt;&quot;&amp;#123;&#39;&lt;/span&gt;firstName&#39;: &lt;span class=&quot;string&quot;&gt;&#39;cyra&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;lastName&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;richardson&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;address&#39;&lt;/span&gt;: &amp;#123; &lt;span class=&quot;string&quot;&gt;&#39;streetAddress&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;1 Microsoft way&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;city&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;Redmond&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;state&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;WA&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;postalCode&#39;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;98052&lt;/span&gt; &amp;#125;,&lt;span class=&quot;string&quot;&gt;&#39;phoneNumbers&#39;&lt;/span&gt;: [ &lt;span class=&quot;string&quot;&gt;&#39;425-777-7777&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;206-777-7777&#39;&lt;/span&gt; ] &amp;#125;&lt;span class=&quot;string&quot;&gt;&quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var jsonobj=eval(&#39;&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;+t+&#39;&lt;/span&gt;)&lt;span class=&quot;string&quot;&gt;&#39;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    alert(jsonobj.firstName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    alert(jsonobj.lastName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var t2=&quot;&lt;/span&gt;[&amp;#123;name:&lt;span class=&quot;string&quot;&gt;&#39;zhangsan&#39;&lt;/span&gt;,age:&lt;span class=&quot;string&quot;&gt;&#39;24&#39;&lt;/span&gt;&amp;#125;,&amp;#123;name:&lt;span class=&quot;string&quot;&gt;&#39;lisi&#39;&lt;/span&gt;,age:&lt;span class=&quot;string&quot;&gt;&#39;30&#39;&lt;/span&gt;&amp;#125;,&amp;#123;name:&lt;span class=&quot;string&quot;&gt;&#39;wangwu&#39;&lt;/span&gt;,age:&lt;span class=&quot;string&quot;&gt;&#39;16&#39;&lt;/span&gt;&amp;#125;,&amp;#123;name:&lt;span class=&quot;string&quot;&gt;&#39;tianqi&#39;&lt;/span&gt;,age:&lt;span class=&quot;string&quot;&gt;&#39;7&#39;&lt;/span&gt;&amp;#125;] &lt;span class=&quot;string&quot;&gt;&quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var myobj=eval(t2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for(var i=0;i&amp;lt;myobj.length;i++)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        alert(myobj[i].name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        alert(myobj[i].age);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var t3=&quot;&lt;/span&gt;[[&lt;span class=&quot;string&quot;&gt;&#39;14113295100&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;社旗县国税局桥头税务所&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;社旗县城郊乡长江路西段&#39;&lt;/span&gt;]]&lt;span class=&quot;string&quot;&gt;&quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //通过eval()函数可以将JSON字符串转化为对象&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var obj = eval(t3);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for(var i=0;i&amp;lt;obj.length;i++)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        for(var j=0;j&amp;lt;obj[i].length;j++)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            alert(obj[i][j]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/SCRIPT&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/mahatmasmile/archive/2013/03/29/2989505.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ajax跨域请求&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/25860304/how-do-i-set-response-headers-in-flask&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How do I set response headers in Flask?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://flask.pocoo.org/docs/0.10/api/#response-objects&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Flask API&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/json.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Python操作json的API&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.360doc.com/content/16/0329/20/32081299_546351123.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;JS解析json数据（如何将json字符串转化为数组）&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;看到标题，你可能会觉得博主比较奇葩，为什么要把事情搞得这么复杂？其实博主也不想这样，只是去年已经用PHP搭建好了系统，而且功能、UI等也基本调试的差不多了；现在要借助Python强大而方便的数据分析功能来分析数据，最简单直接的也就是这么做了。或许之后，会考虑用Django等
    
    </summary>
    
      <category term="Python" scheme="http://blog.ybbz.site/categories/Python/"/>
    
    
      <category term="Python" scheme="http://blog.ybbz.site/tags/Python/"/>
    
      <category term="Flask" scheme="http://blog.ybbz.site/tags/Flask/"/>
    
      <category term="Ajax" scheme="http://blog.ybbz.site/tags/Ajax/"/>
    
  </entry>
  
  <entry>
    <title>随笔：写在三月末</title>
    <link href="http://blog.ybbz.site/2016/03/28/Just-write-about-my-life/"/>
    <id>http://blog.ybbz.site/2016/03/28/Just-write-about-my-life/</id>
    <published>2016-03-27T16:00:00.000Z</published>
    <updated>2016-04-23T12:56:04.000Z</updated>
    
    <content type="html">&lt;p&gt;这个学期，虽然才刚刚开始，但是已经历了太多事情！&lt;/p&gt;
&lt;p&gt;先是2月份过完年返校，从年前实习的公司离职，在公司实习的经历让我很愉快，因为可以安心的写代码、搞研究，这于我，就够了！离职后，希望把研究生课题尽快搞定；课题方面，倒也算是取得了一些进展，可也并不能让人满意，还需要努力，希望后续会顺利吧。&lt;/p&gt;
&lt;p&gt;上上周接手了一台服务器，想把课题相关的代码放在上面跑，可这过程真是无比曲折。上上周五，安装好了系统，周六周日还算正常；到了上周一，系统挂了，调了很久也没调好。你肯定无法想象，我在一间噪声无比巨大的小机房里，一待就是几小时，出了机房耳朵都嗡嗡地响；可也忍了下来，因为我相信只要坚持下来，我就一定会有收获，到了上周五，终于又调试好了。周六周日运行正常，我也利用周末的时间埋首机房，配置好了各种环境。可是到今天（周一），机器又挂了！完全没理由！或许是我经验不够，看样子只能暂时放弃了。不知道是不是工作日，电压问题……为什么人家阿里云就那么稳定，不怎么出问题。&lt;/p&gt;
&lt;p&gt;春天到了！满校园的花朵盛开，红的、白的、粉的、黄的、紫的……然而，我却无法欣赏。我竟然对花粉过敏！刚开始我只是以为我感冒了、才打喷嚏，可我除了打喷嚏，也没有其他症状啊？而且，在屋子里状态很好，只要到了室外，马上就开始打喷嚏。为了验证我是真的过敏，我特意走到了一颗开满了花儿的树下，然后，几秒钟之后，我就开始打喷嚏了，喷嚏打的我都流眼泪了。我也终于相信我是过敏了！（奇怪，为什么以前我没发现？）&lt;/p&gt;
&lt;p&gt;自己在生活各个方面真的是各种迟钝，比如上面说的过敏，再比如，在食堂吃饭，买了饭菜就开始吃的津津有味，过了一会儿，女票问我，你打的这个菜/汤怎么这么咸？我也终于反应过来了，是啊，怎么这么咸！然后对于这些菜/汤，我就无法再入口了。所以，从小到大，我就特别“讨厌”同桌吃饭的人点评饭菜，能等我吃完了你再说吗？&lt;/p&gt;
&lt;p&gt;有时候晚上睡觉不踏实，便想着去跑步，提前消耗掉每天剩余的精力，再洗澡睡觉。效果嘛，时好时坏吧，和睡觉前的心情、状态也有关系，有时候想的太多就睡不好了……&lt;/p&gt;
&lt;p&gt;也喜欢上了吃水果，最喜欢吃的是苹果，每次都买一大袋子，吃完了就马上再买；对身体真的很有好处，可以明显感受到身体的变化（那么问题来了？果然是食堂的饭菜不合理吗？）&lt;/p&gt;
&lt;p&gt;还想再吐槽点儿小事～为嘛每次好心把自行车借给别人，还回来就变样了，每次都要花几十大洋去修理。借了别人的东西，还一点儿不爱惜，谁还会再次借给你？己所不欲，勿施于人！&lt;/p&gt;
&lt;p&gt;今天还和一个经管的博士后学姐在图书馆咖啡厅讨论了快两个小时，也算是跨学科交流吧，很有收获。就这些吧，还是先把心沉下来，好好的搞科研。写在三月末，迎接崭新的四月！&lt;/p&gt;
&lt;p&gt;最后的最后，推荐一个Mac上好用的图片压缩方法，不想使用额外的软件（PS等）对照片作处理的话，图个方便的话，可以一试，反正我很喜欢这种方式：&lt;br&gt;1.用mac自带的预览打开图片；2.工具－调整大小；3.文件－存储&lt;br&gt;另外，如果想对照片做更多处理的话，也可以使用Mac自带的iPhoto来编辑图片。&lt;/p&gt;
&lt;p&gt;效果图如下，第一张是校园随手拍的夜景，后两张是黑马运动会前一晚操场调试大屏幕时拍的。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160328_1.jpg&quot; alt=&quot;20160328_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160328_2.jpg&quot; alt=&quot;20160328_2&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160328_3.jpg&quot; alt=&quot;20160328_3&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;这个学期，虽然才刚刚开始，但是已经历了太多事情！&lt;/p&gt;
&lt;p&gt;先是2月份过完年返校，从年前实习的公司离职，在公司实习的经历让我很愉快，因为可以安心的写代码、搞研究，这于我，就够了！离职后，希望把研究生课题尽快搞定；课题方面，倒也算是取得了一些进展，可也并不能让人满意，还需
    
    </summary>
    
      <category term="Life" scheme="http://blog.ybbz.site/categories/Life/"/>
    
    
      <category term="Life" scheme="http://blog.ybbz.site/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>爬虫实战：抓取某人所有微博并处理，绘制top30关键词的图表</title>
    <link href="http://blog.ybbz.site/2016/03/27/crawl_weibo/"/>
    <id>http://blog.ybbz.site/2016/03/27/crawl_weibo/</id>
    <published>2016-03-26T16:00:00.000Z</published>
    <updated>2016-04-23T12:58:11.000Z</updated>
    
    <content type="html">&lt;p&gt;github传送门：&lt;a href=&quot;https://github.com/ybbz/crawler&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;crawl_weibo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;声明：用爬虫抓取数据，没有任何坏心思，纯粹的兴趣与技术交流，抓的也都是自己的数据，不侵犯他人隐私。若牵扯到各方利益，请联系我！&lt;/p&gt;
&lt;p&gt;效果图如下：&lt;br&gt;&lt;img src=&quot;http://ybbz.github.io/images/blog/IMG_20160327_1.png&quot; alt=&quot;20160327_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# encoding=utf-&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import requests&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from lxml import etree&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import jieba&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import csv&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import pandas &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; pd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import seaborn &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; sns&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import matplotlib.pyplot &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; plt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;result = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;user_id = &lt;span class=&quot;string&quot;&gt;&#39;your weibo user_id&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cookie = &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;Cookie&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;your weibo cookie&#39;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;download_path = &lt;span class=&quot;string&quot;&gt;&#39;/Users/ybbz/Downloads/weibo/&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;crawl the text of your weibo: start...&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; total page &lt;span class=&quot;keyword&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;html = requests.&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;http://weibo.cn/%d/profile?page=1&#39;&lt;/span&gt; % user_id, cookies=cookie).content&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;selector = etree.HTML(html)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pageNum = &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;((selector.xpath(&lt;span class=&quot;string&quot;&gt;&#39;//input[@name=&quot;mp&quot;]&#39;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].attrib[&lt;span class=&quot;string&quot;&gt;&#39;value&#39;&lt;/span&gt;]))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# crawl your weibo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; page in &lt;span class=&quot;built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, pageNum + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    # &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; page in &lt;span class=&quot;built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    # &lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; lxml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    url = &lt;span class=&quot;string&quot;&gt;&#39;http://weibo.cn/%d/profile?page=%d&#39;&lt;/span&gt; % (user_id, page)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    lxml1 = requests.&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt;(url, cookies=cookie).content&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    # &lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; text&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    selector = etree.HTML(lxml1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    content = selector.xpath(&lt;span class=&quot;string&quot;&gt;&#39;//span[@class=&quot;ctt&quot;]&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; each in conten&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        text = each.xpath(&lt;span class=&quot;string&quot;&gt;&#39;string(.)&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        text = &lt;span class=&quot;string&quot;&gt;&quot;%d :&quot;&lt;/span&gt; % &lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt; + text + &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        result += text&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt; += &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;write&lt;/span&gt; the result &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the document&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;with &lt;span class=&quot;keyword&quot;&gt;open&lt;/span&gt;(download_path + str(user_id), &lt;span class=&quot;string&quot;&gt;&#39;w&#39;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;f&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;f&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;write&lt;/span&gt;(result)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;crawl : done, a total of %d data.&#39;&lt;/span&gt; % (&lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt; - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;analyze the text of your weibo : start...&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;stop_list = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;word_list = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;word_dict = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;word_frequency = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;file_stopwords = &lt;span class=&quot;string&quot;&gt;&#39;stopwords.txt&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;read&lt;/span&gt; stopwords.txt,&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;stop&lt;/span&gt; words &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;with &lt;span class=&quot;keyword&quot;&gt;open&lt;/span&gt;(file_stopwords, &lt;span class=&quot;string&quot;&gt;&#39;r&#39;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; f_stop:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    f_stop_text = f_stop.&lt;span class=&quot;keyword&quot;&gt;read&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    stop_list = f_stop_text.&lt;span class=&quot;keyword&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;\n&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# cut the text result of your weibo with jieba&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;result_cut = jieba.cut_for_search(result)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;built_in&quot;&gt;remove&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;stop&lt;/span&gt; words,&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; word &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; cut in result_cu&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; not (cut.strip() in stop_list):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        word_list.&lt;span class=&quot;keyword&quot;&gt;append&lt;/span&gt;(cut)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# statistics frequency of the &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; word &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; word in word_lis&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; word not in word_dic&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        word_dict[word] = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        word_dict[word] += &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; of frequency&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; key in word_dic&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    word_frequency.&lt;span class=&quot;keyword&quot;&gt;append&lt;/span&gt;((word_dict[key], key))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;sort&lt;/span&gt; the result &lt;span class=&quot;built_in&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; top20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;word_30 = sorted(word_frequency)[-&lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;:]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;word_30.&lt;span class=&quot;built_in&quot;&gt;reverse&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;analyze : done.&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;draw : start...&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;csv_path = &lt;span class=&quot;string&quot;&gt;&#39;/Users/ybbz/Downloads/weibo/weibo.csv&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;write&lt;/span&gt; top30 result &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; csv document&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;with &lt;span class=&quot;keyword&quot;&gt;open&lt;/span&gt;(csv_path, &lt;span class=&quot;string&quot;&gt;&#39;w&#39;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;f&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    f_csv = csv.writer(&lt;span class=&quot;keyword&quot;&gt;f&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    f_csv.writerow([&lt;span class=&quot;string&quot;&gt;&#39;frequency&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;word&#39;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    f_csv.writerows(word_30)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;read&lt;/span&gt; data &lt;span class=&quot;built_in&quot;&gt;and&lt;/span&gt; draw picture&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;budget = pd.read_csv(csv_path)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sns.set_style(&lt;span class=&quot;string&quot;&gt;&quot;darkgrid&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bar_plot = sns.barplot(&lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt;=budget[&lt;span class=&quot;string&quot;&gt;&quot;word&quot;&lt;/span&gt;], &lt;span class=&quot;keyword&quot;&gt;y&lt;/span&gt;=budget[&lt;span class=&quot;string&quot;&gt;&quot;frequency&quot;&lt;/span&gt;], palette=&lt;span class=&quot;string&quot;&gt;&quot;muted&quot;&lt;/span&gt;, order=budget[&lt;span class=&quot;string&quot;&gt;&quot;word&quot;&lt;/span&gt;].tolist())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;plt.xticks(rotation=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;plt.show()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;github传送门：&lt;a href=&quot;https://github.com/ybbz/crawler&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;crawl_weibo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;声明：用爬虫抓取数据，没有任何坏心思，纯粹的兴趣与技术交流，抓
    
    </summary>
    
      <category term="Crawler" scheme="http://blog.ybbz.site/categories/Crawler/"/>
    
    
      <category term="Python" scheme="http://blog.ybbz.site/tags/Python/"/>
    
      <category term="Crawler" scheme="http://blog.ybbz.site/tags/Crawler/"/>
    
  </entry>
  
  <entry>
    <title>爬虫实战：抓取在iBeiKe的所有发帖信息保存到数据库，进行可视化分析</title>
    <link href="http://blog.ybbz.site/2016/03/27/crawl-ibeike/"/>
    <id>http://blog.ybbz.site/2016/03/27/crawl-ibeike/</id>
    <published>2016-03-26T16:00:00.000Z</published>
    <updated>2016-04-23T12:56:57.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;iBeiKe网站，或简称iBeiKe（中文：爱北科，英文缩写：IBK）是北京科技大学学生会下属的技术性学生组织iBeiKe团队建立和维护的网站，主要服务于北京科技大学的师生。网站成立于2001年3月，时称“北科大学生之家”。iBeiKe网站是北京科技大学学生会的宣传门户，同时也是一个综合性的学生网站及校园服务网站。iBeiKe网站也是北京科技大学历史最长的学生网站。网站的标语是“网上网下，一样精彩”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;博主本科时期在iBeiKe担任了n年的版主和总版主（好吧，现在好像还没卸任？），挥洒了无数的青春与汗水。也结交了无数的基友（有男有女又老又少）。。。&lt;/p&gt;
&lt;p&gt;声明：用爬虫抓取数据，没有任何坏心思，纯粹的兴趣与技术交流，抓的也都是自己的数据，不侵犯他人隐私。若牵扯到各方利益，请联系我！&lt;/p&gt;
&lt;p&gt;言归正传～～～github传送门：&lt;a href=&quot;https://github.com/ybbz/crawler&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;crawl_ibeike1/2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;效果图如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/img/blog/IMG_20160330_1.png&quot; alt=&quot;20160330_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ybbz.github.io/img/blog/IMG_20160330_2.png&quot; alt=&quot;20160330_2&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;抓取数据并清洗，保存到数据库&quot;&gt;&lt;a href=&quot;#抓取数据并清洗，保存到数据库&quot; class=&quot;headerlink&quot; title=&quot;抓取数据并清洗，保存到数据库&quot;&gt;&lt;/a&gt;抓取数据并清洗，保存到数据库&lt;/h3&gt;&lt;figure class=&quot;highlight nix&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# encoding=utf-8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;import&lt;/span&gt; httplib2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;import&lt;/span&gt; mysql.connector&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from bs4 &lt;span class=&quot;built_in&quot;&gt;import&lt;/span&gt; BeautifulSoup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;result&lt;/span&gt; = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;pageNum&lt;/span&gt; = &#39;total page number&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;uid&lt;/span&gt; = &#39;your uid&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;cookie&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;your cookies&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;url&lt;/span&gt; = &#39;http://city.ibeike.com/home.php?&lt;span class=&quot;attr&quot;&gt;mod=space&amp;amp;uid=&#39;&lt;/span&gt; + uid + &#39;&amp;amp;&lt;span class=&quot;attr&quot;&gt;do=thread&amp;amp;view=me&amp;amp;order=dateline&amp;amp;from=space&amp;amp;page=&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;headers&lt;/span&gt; = &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;Connection&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;keep-alive&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;string&quot;&gt;&quot;Cookie&quot;&lt;/span&gt;: cookie,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;application/xhtml+xml&quot;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for page &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; range(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, pageNum + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;cur_page&lt;/span&gt; = page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;url_full&lt;/span&gt; = url + str(cur_page)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# http request&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;http&lt;/span&gt; = httplib2.Http()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    response, &lt;span class=&quot;attr&quot;&gt;content&lt;/span&gt; = http.request(url_full, &lt;span class=&quot;string&quot;&gt;&quot;GET&quot;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;headers=headers)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; response.&lt;span class=&quot;attr&quot;&gt;status&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# print(response)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# print(content.decode(&#39;utf-8&#39;))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;soup&lt;/span&gt; = BeautifulSoup(content, &lt;span class=&quot;string&quot;&gt;&quot;lxml&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;table&lt;/span&gt; = soup.find_all(&#39;table&#39;)[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;tr&lt;/span&gt; = table.find_all(&#39;tr&#39;, &lt;span class=&quot;attr&quot;&gt;class_=&#39;&#39;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        for item &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; tr:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;item_list&lt;/span&gt; = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;# print(item.prettify())&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;item_title&lt;/span&gt; = item.th.a.string&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;item_group&lt;/span&gt; = item.find_all(&#39;td&#39;, &lt;span class=&quot;attr&quot;&gt;class_=&#39;&#39;)[0].a.string&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;item_reply&lt;/span&gt; = item.select(&#39;td[&lt;span class=&quot;attr&quot;&gt;class=&quot;num&quot;]&#39;)[0].a.string&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;item_watch&lt;/span&gt; = item.select(&#39;td[&lt;span class=&quot;attr&quot;&gt;class=&quot;num&quot;]&#39;)[0].em.string&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;# save to the result list&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;item&lt;/span&gt; = (str(item_title), str(item_group), int(item_reply), int(item_watch))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            result.append(item)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(result)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# connect database&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;conn&lt;/span&gt; = mysql.connector.connect(&lt;span class=&quot;attr&quot;&gt;host=&quot;hostname&quot;,&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;user=&quot;username&quot;,&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;passwd=&quot;password&quot;,&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;db=&quot;database&quot;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;cursor&lt;/span&gt; = conn.cursor()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# save data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;sql&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;insert into ibeike(title,groups,reply,watch) values(%s,%s,%s,%s)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cursor.executemany(sql, result)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;conn.commit()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;数据分析与数据可视化&quot;&gt;&lt;a href=&quot;#数据分析与数据可视化&quot; class=&quot;headerlink&quot; title=&quot;数据分析与数据可视化&quot;&gt;&lt;/a&gt;数据分析与数据可视化&lt;/h3&gt;&lt;figure class=&quot;highlight markdown&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;# encoding=utf-8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import mysql.connector&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import pandas as pd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import seaborn as sns&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import matplotlib.pyplot as plt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;# connect database&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;conn = mysql.connector.connect(host=&quot;hostname&quot;, user=&quot;username&quot;,passwd=&quot;password&quot;, db=&quot;database&quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cursor = conn.cursor()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;# query data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cursor.execute(&#39;select count(*),max(reply),min(reply),max(watch),min(watch) from ibeike&#39;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;values1 = cursor.fetchall()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(&quot;ibeike:totally&quot; + str(values1[&lt;span class=&quot;string&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;symbol&quot;&gt;0&lt;/span&gt;]) + &quot;data&quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list = [&lt;span class=&quot;string&quot;&gt;(&#39;highest reply&#39;, values1[0&lt;/span&gt;][&lt;span class=&quot;symbol&quot;&gt;1&lt;/span&gt;]), (&#39;lowest reply&#39;, values1[&lt;span class=&quot;string&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;symbol&quot;&gt;2&lt;/span&gt;]),(&#39;hightest watch&#39;, values1[&lt;span class=&quot;string&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;symbol&quot;&gt;3&lt;/span&gt;]),(&#39;lowest watch&#39;, values1[&lt;span class=&quot;string&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;symbol&quot;&gt;4&lt;/span&gt;])]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;# draw picture&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;budget = pd.DataFrame(list, columns=[&#39;type&#39;, &#39;count&#39;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sns.set_style(&quot;darkgrid&quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bar_plot = sns.barplot(x=budget[&quot;type&quot;], y=budget[&quot;count&quot;],palette=&quot;muted&quot;, order=budget[&quot;type&quot;].tolist())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;plt.show()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;# query data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cursor.execute(&#39;select count(id),groups from ibeike group by groups&#39;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;values2 = cursor.fetchall()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;values2.append((values1[&lt;span class=&quot;string&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;symbol&quot;&gt;0&lt;/span&gt;], &#39;all sort&#39;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;result = sorted(values2)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;result.reverse()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;# draw picture&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;budget = pd.DataFrame(result, columns=[&#39;count&#39;, &#39;sort&#39;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sns.set_style(&quot;darkgrid&quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bar_plot = sns.barplot(x=budget[&quot;sort&quot;], y=budget[&quot;count&quot;],palette=&quot;muted&quot;, order=budget[&quot;sort&quot;].tolist())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;plt.xticks(rotation=30)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;plt.show()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;参考资料：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://cuiqingcai.com/1319.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Python爬虫利器二之Beautiful Soup的用法&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;iBeiKe网站，或简称iBeiKe（中文：爱北科，英文缩写：IBK）是北京科技大学学生会下属的技术性学生组织iBeiKe团队建立和维护的网站，主要服务于北京科技大学的师生。网站成立于2001年3月，时称“北科大学生之家”。iBeiKe网站是北京科
    
    </summary>
    
      <category term="Crawler" scheme="http://blog.ybbz.site/categories/Crawler/"/>
    
    
      <category term="Python" scheme="http://blog.ybbz.site/tags/Python/"/>
    
      <category term="Crawler" scheme="http://blog.ybbz.site/tags/Crawler/"/>
    
  </entry>
  
</feed>
